

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WLAN/WIFI - Wireless LAN &mdash; VyOS 1.5.x (circinus) documentation</title>
      <link rel="stylesheet" type="text/css" href="../../static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../static/sphinx-design.min.css?v=95c83b7e" />

  
    <link rel="shortcut icon" href="../../static/vyos-logo-icon.png"/>
      <script src="../../static/jquery.js?v=5d32c60e"></script>
      <script src="../../static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../static/documentation_options.js?v=719443cf"></script>
      <script src="../../static/doctools.js?v=9bcbadda"></script>
      <script src="../../static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../static/design-tabs.js?v=f930bc37"></script>
    <script src="../../static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="WWAN - Wireless Wide-Area-Network" href="wwan.html" />
    <link rel="prev" title="VXLAN" href="vxlan.html" />
    <style>#vyos-header-iframe{position:fixed;top:0;left:0;right:0;z-index:999999999;width:100%;border:none}</style>
    <style>#vyos-footer-iframe{width:100%;border:none}</style>
    <link href="../../static/css/custom.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/lists.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/hints.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/headers.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/breadcrumbs.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/linkButtons.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/text.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/leftSidebar.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/scrolls.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/tables.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/installation/running-on-bare-metal.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/code-snippets.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/separate-commands.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/configuration/index.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/datatables.css" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script type="text/javascript" charset="utf8" src="../../static/js/datatables.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/tables.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/codecopier.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/sidebar.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/footer.js"></script>
    </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            VyOS
              <img src="../../static/vyos-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../introducing/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introducing/history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">First Steps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation and Image Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html#configuration-overview">Configuration Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Adminguide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Configuration Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../container/index.html">Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../firewall/index.html">Firewall</a></li>
<li class="toctree-l2"><a class="reference internal" href="../highavailability/index.html">High availability</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Interfaces</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bonding.html">Bond / Link Aggregation</a></li>
<li class="toctree-l3"><a class="reference internal" href="bridge.html">Bridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="dummy.html">Dummy</a></li>
<li class="toctree-l3"><a class="reference internal" href="ethernet.html">Ethernet</a></li>
<li class="toctree-l3"><a class="reference internal" href="geneve.html">GENEVE</a></li>
<li class="toctree-l3"><a class="reference internal" href="l2tpv3.html">L2TPv3</a></li>
<li class="toctree-l3"><a class="reference internal" href="loopback.html">Loopback</a></li>
<li class="toctree-l3"><a class="reference internal" href="macsec.html">MACsec</a></li>
<li class="toctree-l3"><a class="reference internal" href="openvpn.html">OpenVPN</a></li>
<li class="toctree-l3"><a class="reference internal" href="wireguard.html">WireGuard</a></li>
<li class="toctree-l3"><a class="reference internal" href="pppoe.html">PPPoE</a></li>
<li class="toctree-l3"><a class="reference internal" href="pseudo-ethernet.html">MACVLAN - Pseudo Ethernet</a></li>
<li class="toctree-l3"><a class="reference internal" href="sstp-client.html">SSTP Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="tunnel.html">Tunnel</a></li>
<li class="toctree-l3"><a class="reference internal" href="virtual-ethernet.html">Virtual Ethernet</a></li>
<li class="toctree-l3"><a class="reference internal" href="vti.html">VTI - Virtual Tunnel Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="vxlan.html">VXLAN</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">WLAN/WIFI - Wireless LAN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operation">Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="wwan.html">WWAN - Wireless Wide-Area-Network</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../loadbalancing/index.html">Load-balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nat/index.html">NAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../policy/index.html">Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pki/index.html">PKI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../service/index.html">Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trafficpolicy/index.html">Traffic Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vpn/index.html">VPN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vrf/index.html">VRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vrf/index.html#l3vpn-vrfs">L3VPN VRFs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operation/index.html">Operation Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../automation/index.html">VyOS Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configexamples/index.html">Configuration Blueprints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configexamples/index.html#configuration-blueprints-autotest">Configuration Blueprints (autotest)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/build-vyos.html">Build VyOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/issues-features.html">Issues/Feature requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/upstream-packages.html">Upstream packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/testing.html">Testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">Write Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coverage.html">Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright Notice</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VyOS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Configuration Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html">Interfaces</a></li>
      <li class="breadcrumb-item active">WLAN/WIFI - Wireless LAN</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../sources/configuration/interfaces/wireless.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="wlan-wifi-wireless-lan">
<span id="wireless-interface"></span><h1>WLAN/WIFI - Wireless LAN<a class="headerlink" href="#wlan-wifi-wireless-lan" title="Link to this heading"></a></h1>
<p>The <abbr title="Wireless LAN">WLAN</abbr> interface provides 802.11 (a/b/g/n/ac) wireless
support (commonly referred to as Wi-Fi) by means of compatible hardware. If
your hardware supports it, VyOS supports multiple logical wireless interfaces
per physical device.</p>
<p>There are three modes of operation for a wireless interface:</p>
<ul class="simple">
<li><p><abbr title="Wireless Access-Point">WAP</abbr> mode provides network access to connecting
stations if the physical hardware supports acting as a WAP</p></li>
<li><p>Station mode acts as a Wi-Fi client accessing the network through an available
WAP</p></li>
<li><p>Monitor mode lets the system passively monitor wireless traffic</p></li>
</ul>
<p>If the system detects an unconfigured wireless device, it will be automatically
added the configuration tree, specifying any detected settings (for example,
its MAC address) and configured to run in monitor mode.</p>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading"></a></h2>
<section id="common-interface-configuration">
<h3>Common interface configuration<a class="headerlink" href="#common-interface-configuration" title="Link to this heading"></a></h3>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-address-address-dhcp-dhcpv6">
set interfaces wireless &lt;interface&gt; address &lt;address | dhcp |  dhcpv6&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-address-address-dhcp-dhcpv6" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure interface <cite>&lt;interface&gt;</cite> with one or more interface addresses.</p>
<ul class="simple">
<li><p><strong>address</strong> can be specified multiple times as IPv4 and/or IPv6
address, e.g. 192.0.2.1/24 and/or 2001:db8::1/64</p></li>
<li><p><strong>dhcp</strong> interface address is received by DHCP from a DHCP server
on this segment.</p></li>
<li><p><strong>dhcpv6</strong> interface address is received by DHCPv6 from a DHCPv6
server on this segment.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using DHCP to retrieve IPv4 address and if local
customizations are needed, they should be possible using the enter and
exit hooks provided. The hook dirs are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/config/scripts/dhcp-client/pre-hooks.d/</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/config/scripts/dhcp-client/post-hooks.d/</span></code></p></li>
</ul>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 address 192.0.2.1/24
set interfaces wireless wlan0 address 2001:db8::1/64
set interfaces wireless wlan0 address dhcp
set interfaces wireless wlan0 address dhcpv6
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-description-description">
set interfaces wireless &lt;interface&gt; description &lt;description&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-description-description" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Set a human readable, descriptive alias for this connection. Alias is used by
e.g. the <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">interfaces</span></code> command or SNMP based monitoring tools.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 description &#39;This is an awesome interface running on VyOS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-disable">
set interfaces wireless &lt;interface&gt; disable</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-disable" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Disable given <cite>&lt;interface&gt;</cite>. It will be placed in administratively down
(<code class="docutils literal notranslate"><span class="pre">A/D</span></code>) state.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 disable
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-disable-flow-control">
set interfaces wireless &lt;interface&gt;  disable-flow-control</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-disable-flow-control" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Ethernet flow control is a mechanism for temporarily stopping the transmission
of data on Ethernet family computer networks. The goal of this mechanism is to
ensure zero packet loss in the presence of network congestion.</p>
<p>The first flow control mechanism, the pause frame, was defined by the IEEE
802.3x standard.</p>
<p>A sending station (computer or network switch) may be transmitting data faster
than the other end of the link can accept it. Using flow control, the
receiving station can signal the sender requesting suspension of
transmissions until the receiver catches up.</p>
<p>Use this command to disable the generation of Ethernet flow control (pause
frames).</p>
<blockquote>
<div><p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 disable-flow-control
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-disable-link-detect">
set interfaces wireless &lt;interface&gt; disable-link-detect</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-disable-link-detect" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to direct an interface to not detect any physical state
changes on a link, for example, when the cable is unplugged.</p>
<p>Default is to detects physical link state changes.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 disable-link-detect
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-mac-xx-xx-xx-xx-xx-xx">
set interfaces wireless &lt;interface&gt; mac &lt;xx:xx:xx:xx:xx:xx&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-mac-xx-xx-xx-xx-xx-xx" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure user defined <abbr title="Media Access Control">MAC</abbr> address on given
<cite>&lt;interface&gt;</cite>.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 mac &#39;00:53:01:02:03:04&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-mtu-mtu">
set interfaces wireless &lt;interface&gt; mtu &lt;mtu&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-mtu-mtu" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure <abbr title="Maximum Transmission Unit">MTU</abbr> on given <cite>&lt;interface&gt;</cite>. It
is the size (in bytes) of the largest ethernet frame sent on this link.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 mtu 1600
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-adjust-mss-mss-clamp-mss-to-pmtu">
set interfaces wireless &lt;interface&gt; ip adjust-mss &lt;mss | clamp-mss-to-pmtu&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-adjust-mss-mss-clamp-mss-to-pmtu" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>As Internet wide PMTU discovery rarely works, we sometimes need to clamp our
TCP MSS value to a specific value. This is a field in the TCP options part of
a SYN packet. By setting the MSS value, you are telling the remote side
unequivocally ‘do not try to send me packets bigger than this value’.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command was introduced in VyOS 1.4 - it was previously called:
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">firewall</span> <span class="pre">options</span> <span class="pre">interface</span> <span class="pre">&lt;name&gt;</span> <span class="pre">adjust-mss</span> <span class="pre">&lt;value&gt;</span></code></p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>MSS value = MTU - 20 (IP header) - 20 (TCP header), resulting in
1452 bytes on a 1492 byte MTU.</p>
</div>
<p>Instead of a numerical MSS value <cite>clamp-mss-to-pmtu</cite> can be used to
automatically set the proper value.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-arp-cache-timeout">
set interfaces wireless &lt;interface&gt; ip arp-cache-timeout</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-arp-cache-timeout" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Once a neighbor has been found, the entry is considered to be valid for at
least for this specific time. An entry’s validity will be extended if it
receives positive feedback from higher level protocols.</p>
<p>This defaults to 30 seconds.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ip arp-cache-timeout 180
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-disable-arp-filter">
set interfaces wireless &lt;interface&gt; ip disable-arp-filter</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-disable-arp-filter" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>If set the kernel can respond to arp requests with addresses from other
interfaces. This may seem wrong but it usually makes sense, because it
increases the chance of successful communication. IP addresses are owned by
the complete host on Linux, not by particular interfaces. Only for more
complex setups like load-balancing, does this behaviour cause problems.</p>
<p>If not set (default) allows you to have multiple network interfaces on the
same subnet, and have the ARPs for each interface be answered based on whether
or not the kernel would route a packet from the ARP’d IP out that interface
(therefore you must use source based routing for this to work).</p>
<p>In other words it allows control of which cards (usually 1) will respond to an
arp request.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ip disable-arp-filter
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-disable-forwarding">
set interfaces wireless &lt;interface&gt; ip disable-forwarding</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-disable-forwarding" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure interface-specific Host/Router behaviour. If set, the interface will
switch to host mode and IPv6 forwarding will be disabled on this interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ip disable-forwarding
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-enable-directed-broadcast">
set interfaces wireless &lt;interface&gt; ip enable-directed-broadcast</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-enable-directed-broadcast" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define different modes for IP directed broadcast forwarding as described in
<span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1812.html"><strong>RFC 1812</strong></a> and <span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2644.html"><strong>RFC 2644</strong></a>.</p>
<p>If configured, incoming IP directed broadcast packets on this interface will
be forwarded.</p>
<p>If this option is unset (default), incoming IP directed broadcast packets
will not be forwarded.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ip enable-directed-broadcast
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-enable-arp-accept">
set interfaces wireless &lt;interface&gt; ip enable-arp-accept</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-enable-arp-accept" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define behavior for gratuitous ARP frames whose IP is not already present in
the ARP table. If configured create new entries in the ARP table.</p>
<p>Both replies and requests type gratuitous arp will trigger the ARP table to be
updated, if this setting is on.</p>
<p>If the ARP table already contains the IP address of the gratuitous arp frame,
the arp table will be updated regardless if this setting is on or off.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ip enable-arp-accept
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-enable-arp-announce">
set interfaces wireless &lt;interface&gt; ip enable-arp-announce</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-enable-arp-announce" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define different restriction levels for announcing the local source IP address
from IP packets in ARP requests sent on interface.</p>
<p>Use any local address, configured on any interface if this is not set.</p>
<p>If configured, try to avoid local addresses that are not in the target’s
subnet for this interface. This mode is useful when target hosts reachable via
this interface require the source IP address in ARP requests to be part of
their logical network configured on the receiving interface. When we generate
the request we will check all our subnets that include the target IP and will
preserve the source address if it is from such subnet. If there is no such
subnet we select source address according to the rules for level 2.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ip enable-arp-announce
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-enable-arp-ignore">
set interfaces wireless &lt;interface&gt; ip enable-arp-ignore</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-enable-arp-ignore" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define different modes for sending replies in response to received ARP
requests that resolve local target IP addresses:</p>
<p>If configured, reply only if the target IP address is local address configured
on the incoming interface.</p>
<p>If this option is unset (default), reply for any local target IP address,
configured on any interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ip enable-arp-ignore
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-enable-proxy-arp">
set interfaces wireless &lt;interface&gt; ip enable-proxy-arp</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-enable-proxy-arp" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to enable proxy Address Resolution Protocol (ARP) on this
interface. Proxy ARP allows an Ethernet interface to respond with its own
<abbr title="Media Access Control">MAC</abbr> address to ARP requests for destination IP
addresses on subnets attached to other interfaces on the system. Subsequent
packets sent to those destination IP addresses are forwarded appropriately by
the system.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ip enable-proxy-arp
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-proxy-arp-pvlan">
set interfaces wireless &lt;interface&gt; ip proxy-arp-pvlan</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-proxy-arp-pvlan" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Private VLAN proxy arp. Basically allow proxy arp replies back to the same
interface (from which the ARP request/solicitation was received).</p>
<p>This is done to support (ethernet) switch features, like <span class="target" id="index-2"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3069.html"><strong>RFC 3069</strong></a>, where
the individual ports are NOT allowed to communicate with each other, but they
are allowed to talk to the upstream router. As described in <span class="target" id="index-3"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3069.html"><strong>RFC 3069</strong></a>, it is
possible to allow these hosts to communicate through the upstream router by
proxy_arp’ing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Does not need to be used together with proxy_arp.</p>
</div>
<p>This technology is known by different names:</p>
<ul class="simple">
<li><p>In <span class="target" id="index-4"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3069.html"><strong>RFC 3069</strong></a> it is called VLAN Aggregation</p></li>
<li><p>Cisco and Allied Telesyn call it Private VLAN</p></li>
<li><p>Hewlett-Packard call it Source-Port filtering or port-isolation</p></li>
<li><p>Ericsson call it MAC-Forced Forwarding (RFC Draft)</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ip-source-validation-strict-loose-disable">
set interfaces wireless &lt;interface&gt; ip source-validation &lt;strict | loose | disable&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ip-source-validation-strict-loose-disable" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable policy for source validation by reversed path, as specified in
<span class="target" id="index-5"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3704.html"><strong>RFC 3704</strong></a>. Current recommended practice in <span class="target" id="index-6"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3704.html"><strong>RFC 3704</strong></a> is to enable strict
mode to prevent IP spoofing from DDos attacks. If using asymmetric routing
or other complicated routing, then loose mode is recommended.</p>
<ul class="simple">
<li><p>strict: Each incoming packet is tested against the FIB and if the interface
is not the best reverse path the packet check will fail. By default failed
packets are discarded.</p></li>
<li><p>loose: Each incoming packet’s source address is also tested against the FIB
and if the source address is not reachable via any interface the packet
check will fail.</p></li>
<li><p>disable: No source validation</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ipv6-address-autoconf">
set interfaces wireless &lt;interface&gt; ipv6 address autoconf</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ipv6-address-autoconf" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p><abbr title="Stateless Address Autoconfiguration">SLAAC</abbr> <span class="target" id="index-7"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4862.html"><strong>RFC 4862</strong></a>. IPv6 hosts
can configure themselves automatically when connected to an IPv6 network using
the Neighbor Discovery Protocol via <abbr title="Internet Control Message Protocol version 6">ICMPv6</abbr> router discovery messages. When first connected to a
network, a host sends a link-local router solicitation multicast request for
its configuration parameters; routers respond to such a request with a router
advertisement packet that contains Internet Layer configuration parameters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method automatically disables IPv6 traffic forwarding on the
interface in question.</p>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ipv6 address autoconf
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ipv6-address-eui64-prefix">
set interfaces wireless &lt;interface&gt; ipv6 address eui64 &lt;prefix&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ipv6-address-eui64-prefix" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p><abbr title="64-Bit Extended Unique Identifier">EUI-64</abbr> as specified in
<span class="target" id="index-8"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4291.html"><strong>RFC 4291</strong></a> allows a host to assign iteslf a unique 64-Bit IPv6 address.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ipv6 address eui64 2001:db8:beef::/64
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ipv6-address-no-default-link-local">
set interfaces wireless &lt;interface&gt; ipv6 address no-default-link-local</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ipv6-address-no-default-link-local" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Do not assign a link-local IPv6 address to this interface.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ipv6 address no-default-link-local
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ipv6-disable-forwarding">
set interfaces wireless &lt;interface&gt; ipv6 disable-forwarding</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ipv6-disable-forwarding" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure interface-specific Host/Router behaviour. If set, the interface will
switch to host mode and IPv6 forwarding will be disabled on this interface.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ipv6 disable-forwarding
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ipv6-adjust-mss-mss-clamp-mss-to-pmtu">
set interfaces wireless &lt;interface&gt; ipv6 adjust-mss &lt;mss | clamp-mss-to-pmtu&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ipv6-adjust-mss-mss-clamp-mss-to-pmtu" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>As Internet wide PMTU discovery rarely works, we sometimes need to clamp our
TCP MSS value to a specific value. This is a field in the TCP options part of
a SYN packet. By setting the MSS value, you are telling the remote side
unequivocally ‘do not try to send me packets bigger than this value’.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command was introduced in VyOS 1.4 - it was previously called:
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">firewall</span> <span class="pre">options</span> <span class="pre">interface</span> <span class="pre">&lt;name&gt;</span> <span class="pre">adjust-mss6</span> <span class="pre">&lt;value&gt;</span></code></p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>MSS value = MTU - 40 (IPv6 header) - 20 (TCP header), resulting in
1432 bytes on a 1492 byte MTU.</p>
</div>
<p>Instead of a numerical MSS value <cite>clamp-mss-to-pmtu</cite> can be used to
automatically set the proper value.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ipv6-accept-dad-1-3">
set interfaces wireless &lt;interface&gt; ipv6 accept-dad &lt;1-3&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ipv6-accept-dad-1-3" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Whether to accept DAD (Duplicate Address Detection).</p>
<ul class="simple">
<li><p>0: Disable DAD</p></li>
<li><p>1: Enable DAD (default)</p></li>
<li><p>2: Enable DAD, and disable IPv6 operation if MAC-based duplicate link-local address has been found.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ipv6 accept-dad 2
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ipv6-dup-addr-detect-transmits-n">
set interfaces wireless &lt;interface&gt; ipv6 dup-addr-detect-transmits &lt;n&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ipv6-dup-addr-detect-transmits-n" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>The amount of Duplicate Address Detection probes to send.</p>
<p>Default: 1</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 ipv6 dup-addr-detect-transmits 5
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vrf-vrf">
set interfaces wireless &lt;interface&gt; vrf &lt;vrf&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vrf-vrf" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Place interface in given VRF instance.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>There is an entire chapter about how to configure a <a class="reference internal" href="../vrf/index.html#vrf"><span class="std std-ref">VRF</span></a>,
please check this for additional information.</p>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vrf red
</pre></div>
</div>
</div>
</div>
<p><strong>DHCP(v6)</strong></p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcp-options-client-id-description">
set interfaces wireless &lt;interface&gt; dhcp-options client-id &lt;description&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcp-options-client-id-description" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p><span class="target" id="index-9"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2131.html"><strong>RFC 2131</strong></a> states: The client MAY choose to explicitly provide the identifier
through the ‘client identifier’ option. If the client supplies a ‘client
identifier’, the client MUST use the same ‘client identifier’ in all
subsequent messages, and the server MUST use that identifier to identify the
client.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcp-options client-id &#39;foo-bar&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcp-options-host-name-hostname">
set interfaces wireless &lt;interface&gt; dhcp-options host-name &lt;hostname&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcp-options-host-name-hostname" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Instead of sending the real system hostname to the DHCP server, overwrite the
host-name with this given-value.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcp-options host-name &#39;VyOS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcp-options-vendor-class-id-vendor-id">
set interfaces wireless &lt;interface&gt; dhcp-options vendor-class-id &lt;vendor-id&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcp-options-vendor-class-id-vendor-id" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This option is used by some DHCP clients to identify the vendor type and
possibly the configuration of a DHCP client. The information is a string of
bytes whose contents are specific to the vendor and are not specified in a
standard.</p>
<p>The vendor-class-id option can be used to request a specific class of vendor
options from the server.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcp-options vendor-class-id &#39;VyOS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcp-options-no-default-route">
set interfaces wireless &lt;interface&gt; dhcp-options no-default-route</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcp-options-no-default-route" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Only request an address from the DHCP server but do not request a default
gateway.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcp-options no-default-route
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcp-options-default-route-distance-distance">
set interfaces wireless &lt;interface&gt; dhcp-options default-route-distance &lt;distance&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcp-options-default-route-distance-distance" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Set the distance for the default gateway sent by the DHCP server.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcp-options default-route-distance 220
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcp-options-reject-address">
set interfaces wireless &lt;interface&gt; dhcp-options reject &lt;address&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcp-options-reject-address" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Reject DHCP leases from a given address or range.
This is useful when a modem gives a local IP when first starting.</p>
<ul class="simple">
<li><p><strong>address</strong> can be specified multiple times,
e.g. 192.168.100.1 and/or 192.168.100.0/24</p></li>
</ul>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcp-options reject 192.168.100.0/24
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcp-options-user-class-string">
set interfaces wireless &lt;interface&gt; dhcp-options user-class &lt;string&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcp-options-user-class-string" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This option is used by some DHCP clients as a way for users to specify
identifying information to the client. This can be used in a similar way to
the vendor-class-identifier option, but the value of the option is specified
by the user, not the vendor.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcp-options user-class VyOS
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-duid-duid">
set interfaces wireless &lt;interface&gt; dhcpv6-options duid &lt;duid&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-duid-duid" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>The DHCP unique identifier (DUID) is used by a client to get an IP address
from a DHCPv6 server. It has a 2-byte DUID type field, and a variable-length
identifier field up to 128 bytes. Its actual length depends on its type. The
server compares the DUID with its database and delivers configuration data
(address, lease times, DNS servers, etc.) to the client.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 duid &#39;0e:00:00:01:00:01:27:71:db:f0:00:50:56:bf:c5:6d&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-no-release">
set interfaces wireless &lt;interface&gt; dhcpv6-options no-release</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-no-release" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>When no-release is specified, dhcp6c will avoid sending a release message on
client exit in order to prevent losing an assigned address or prefix.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcpv6-options no-release
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-parameters-only">
set interfaces wireless &lt;interface&gt; dhcpv6-options parameters-only</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-parameters-only" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This statement specifies dhcp6c to only exchange informational configuration
parameters with servers. A list of DNS server addresses is an example of such
parameters. This statement is useful when the client does not need stateful
configuration parameters such as IPv6 addresses or prefixes.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcpv6-options parameters-only
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-rapid-commit">
set interfaces wireless &lt;interface&gt; dhcpv6-options rapid-commit</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-rapid-commit" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>When rapid-commit is specified, dhcp6c will include a rapid-commit option in
solicit messages and wait for an immediate reply instead of advertisements.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcpv6-options rapid-commit
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-temporary">
set interfaces wireless &lt;interface&gt; dhcpv6-options temporary</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-temporary" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Request only a temporary address and not form an IA_NA (Identity Association
for Non-temporary Addresses) partnership.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcpv6-options temporary
</pre></div>
</div>
</div>
</div>
<p><strong>DHCPv6 Prefix Delegation (PD)</strong></p>
<p>VyOS 1.3 (equuleus) supports DHCPv6-PD (<span class="target" id="index-10"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3633.html"><strong>RFC 3633</strong></a>). DHCPv6 Prefix Delegation
is supported by most ISPs who provide native IPv6 for consumers on fixed
networks.</p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-pd-id-length-length">
set interfaces wireless &lt;interface&gt; dhcpv6-options pd &lt;id&gt; length &lt;length&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-pd-id-length-length" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Some ISPs by default only delegate a /64 prefix. To request for a specific
prefix size use this option to request for a bigger delegation for this pd
<cite>&lt;id&gt;</cite>. This value is in the range from 32 - 64 so you could request up to a
/32 prefix (if your ISP allows this) down to a /64 delegation.</p>
<p>The default value corresponds to 64.</p>
<p>To request a /56 prefix from your ISP use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcpv6-options pd 0 length 56
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-pd-id-interface-delegatee-address-address">
set interfaces wireless &lt;interface&gt; dhcpv6-options pd &lt;id&gt; interface &lt;delegatee&gt; address &lt;address&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-pd-id-interface-delegatee-address-address" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Specify the interface address used locally on the interface where the prefix
has been delegated to. ID must be a decimal integer.</p>
<p>It will be combined with the delegated prefix and the sla-id to form a
complete interface address. The default is to use the EUI-64 address of the
interface.</p>
<p>Example: Delegate a /64 prefix to interface eth8 which will use a local
address on this router of <code class="docutils literal notranslate"><span class="pre">&lt;prefix&gt;::ffff</span></code>, as the address 65534 will
correspond to <code class="docutils literal notranslate"><span class="pre">ffff</span></code> in hexadecimal notation.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcpv6-options pd 0 interface eth8 address 65534
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-pd-id-interface-delegatee-sla-id-id">
set interfaces wireless &lt;interface&gt; dhcpv6-options pd &lt;id&gt; interface &lt;delegatee&gt; sla-id &lt;id&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-dhcpv6-options-pd-id-interface-delegatee-sla-id-id" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Specify the identifier value of the site-level aggregator (SLA) on the
interface. ID must be a decimal number greater then 0 which fits in the
length of SLA IDs (see below).</p>
<p>Example: If ID is 1 and the client is delegated an IPv6 prefix
2001:db8:ffff::/48, dhcp6c will combine the two values into a single IPv6
prefix, 2001:db8:ffff:1::/64, and will configure the prefix on the specified
interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 dhcpv6-options pd 0 interface eth8 sla-id 1
</pre></div>
</div>
</div>
</div>
</section>
<section id="system-wide-configuration">
<h3>System Wide configuration<a class="headerlink" href="#system-wide-configuration" title="Link to this heading"></a></h3>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-wireless-country-code-cc">
set system wireless country-code &lt;cc&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-wireless-country-code-cc" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Country code (ISO/IEC 3166-1). Used to set regulatory domain. Set as needed
to indicate country in which device is operating. This can limit available
channels and transmit power.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This option is mandatory in Access-Point mode.</p>
</div>
</div>
</div>
</section>
<section id="wireless-options">
<h3>Wireless options<a class="headerlink" href="#wireless-options" title="Link to this heading"></a></h3>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-wireless-country-code-cc">
set system wireless country-code &lt;cc&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-wireless-country-code-cc" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Country code (ISO/IEC 3166-1). Used to set regulatory domain. Set as needed
to indicate country in which the box is operating. This can limit available
channels and transmit power.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This option is mandatory in Access-Point mode.</p>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-channel-number">
set interfaces wireless &lt;interface&gt; channel &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-channel-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Channel number (IEEE 802.11), for 2.4Ghz (802.11 b/g/n/ax) channels range from
1-14. On 5Ghz (802.11 a/h/j/n/ac) channels available are 0, 34 to 177.
On 6GHz (802.11 ax) channels range from 1 to 233.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-disable-broadcast-ssid">
set interfaces wireless &lt;interface&gt; disable-broadcast-ssid</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-disable-broadcast-ssid" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Send empty SSID in beacons and ignore probe request frames that do not specify
full SSID, i.e., require stations to know the SSID.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-expunge-failing-stations">
set interfaces wireless &lt;interface&gt; expunge-failing-stations</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-expunge-failing-stations" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Disassociate stations based on excessive transmission failures or other
indications of connection loss.</p>
<p>This depends on the driver capabilities and may not be available with all
drivers.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-isolate-stations">
set interfaces wireless &lt;interface&gt; isolate-stations</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-isolate-stations" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Client isolation can be used to prevent low-level bridging of frames between
associated stations in the BSS.</p>
<p>By default, this bridging is allowed.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-max-stations">
set interfaces wireless &lt;interface&gt; max-stations</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-max-stations" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Maximum number of stations allowed in station table. New stations will be
rejected after the station table is full. IEEE 802.11 has a limit of 2007
different association IDs, so this number should not be larger than that.</p>
<p>This defaults to 2007.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-mgmt-frame-protection">
set interfaces wireless &lt;interface&gt; mgmt-frame-protection</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-mgmt-frame-protection" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Management Frame Protection (MFP) according to IEEE 802.11w</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><abbr title="Management Frame Protection">MFP</abbr> is required for WPA3.</p>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-enable-bf-protection">
set interfaces wireless &lt;interface&gt; enable-bf-protection</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-enable-bf-protection" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Beacon Protection: management frame protection for Beacon frames.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This option requires <abbr title="Management Frame Protection">MFP</abbr>
to be enabled.</p>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-mode-a-b-g-n-ac-ax">
set interfaces wireless &lt;interface&gt; mode &lt;a | b | g | n | ac | ax&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-mode-a-b-g-n-ac-ax" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Operation mode of wireless radio.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code> - 802.11a - 54 Mbits/sec</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code> - 802.11b - 11 Mbits/sec</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code> - 802.11g - 54 Mbits/sec (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> - 802.11n - 600 Mbits/sec</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ac</span></code> - 802.11ac - 1300 Mbits/sec</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ax</span></code> - 802.11ax - exceeds 1GBit/sec</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In VyOS, 802.11ax is only implemented for 2.4GHz and 6GHz.</p>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-physical-device-device">
set interfaces wireless &lt;interface&gt; physical-device &lt;device&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-physical-device-device" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Wireless hardware device used as underlay radio.</p>
<p>This defaults to phy0.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-reduce-transmit-power-number">
set interfaces wireless &lt;interface&gt; reduce-transmit-power &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-reduce-transmit-power-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Adds the Power Constraint information element to Beacon and Probe Response
frames.</p>
<p>This option adds the Power Constraint information element when applicable
and the Country information element is configured. The Power Constraint
element is required by Transmit Power Control.</p>
<p>Valid values are 0..255.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-ssid-ssid">
set interfaces wireless &lt;interface&gt; ssid &lt;ssid&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-ssid-ssid" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>SSID to be used in IEEE 802.11 management frames</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-type-access-point-station-monitor">
set interfaces wireless &lt;interface&gt; type  &lt;access-point | station | monitor&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-type-access-point-station-monitor" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Wireless device type for this interface</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">access-point</span></code> - Access-point forwards packets between other nodes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">station</span></code> - Connects to another access point</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">monitor</span></code> - Passively monitor all packets on the frequency/channel</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-per-client-thread">
set interfaces wireless &lt;interface&gt; per-client-thread</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-per-client-thread" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Provides a per-device control to enable/disable the threaded mode for
all the NAPI instances of the given network device, without the need for
a device up/down.</p>
<p>If CLI option is not specified, this feature is disabled.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 per-client-thread
</pre></div>
</div>
</div>
</div>
<section id="ppdu">
<h4>PPDU<a class="headerlink" href="#ppdu" title="Link to this heading"></a></h4>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-require-ht">
set interfaces wireless &lt;interface&gt; capabilities require-ht</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-require-ht" title="Permalink to this Command"></a></div></div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-require-vht">
set interfaces wireless &lt;interface&gt; capabilities require-vht</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-require-vht" title="Permalink to this Command"></a></div></div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-require-he">
set interfaces wireless &lt;interface&gt; capabilities require-he</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-require-he" title="Permalink to this Command"></a></div></div>
<section id="ht-high-throughput-capabilities-802-11n">
<h5>HT (High Throughput) capabilities (802.11n)<a class="headerlink" href="#ht-high-throughput-capabilities-802-11n" title="Link to this heading"></a></h5>
<blockquote>
<div><p>Configuring HT mode options is required when using 802.11n or 802.11ax at 2.4GHz.</p>
</div></blockquote>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-40mhz-incapable">
set interfaces wireless &lt;interface&gt; capabilities ht 40mhz-incapable</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-40mhz-incapable" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Device is incapable of 40 MHz, do not advertise. This sets <code class="docutils literal notranslate"><span class="pre">[40-INTOLERANT]</span></code></p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-auto-powersave">
set interfaces wireless &lt;interface&gt; capabilities ht auto-powersave</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-auto-powersave" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>WMM-PS Unscheduled Automatic Power Save Delivery [U-APSD]</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-channel-set-width-ht20-ht40-ht40">
set interfaces wireless &lt;interface&gt; capabilities ht  channel-set-width &lt;ht20 | ht40+ | ht40-&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-channel-set-width-ht20-ht40-ht40" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Supported channel width set.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ht20</span></code> - 20 MHz channel width</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ht40-</span></code> - Both 20 MHz and 40 MHz with secondary channel below the primary
channel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ht40+</span></code> - Both 20 MHz and 40 MHz with secondary channel above the primary
channel</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are limits on which channels can be used with HT40- and HT40+.
Following table shows the channels that may be available for HT40- and HT40+
use per IEEE 802.11n Annex J:</p>
<p>Depending on the location, not all of these channels may be available for
use!</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>freq              HT40-           HT40+
2.4 GHz           5-13            1-7 (1-9 in Europe/Japan)
5 GHz             40,48,56,64     36,44,52,60
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>40 MHz channels may switch their primary and secondary channels if
needed or creation of 40 MHz channel maybe rejected based on overlapping
BSSes. These changes are done automatically when hostapd is setting up the
40 MHz channel.</p>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-delayed-block-ack">
set interfaces wireless &lt;interface&gt; capabilities ht  delayed-block-ack</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-delayed-block-ack" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable HT-delayed Block Ack <code class="docutils literal notranslate"><span class="pre">[DELAYED-BA]</span></code></p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-dsss-cck-40">
set interfaces wireless &lt;interface&gt; capabilities ht dsss-cck-40</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-dsss-cck-40" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>DSSS/CCK Mode in 40 MHz, this sets <code class="docutils literal notranslate"><span class="pre">[DSSS_CCK-40]</span></code></p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-greenfield">
set interfaces wireless &lt;interface&gt; capabilities ht greenfield</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-greenfield" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This enables the greenfield option which sets the <code class="docutils literal notranslate"><span class="pre">[GF]</span></code> option</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-ldpc">
set interfaces wireless &lt;interface&gt; capabilities ht ldpc</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-ldpc" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable LDPC coding capability</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-lsig-protection">
set interfaces wireless &lt;interface&gt; capabilities ht lsig-protection</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-lsig-protection" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable L-SIG TXOP protection capability</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-max-amsdu-3839-7935">
set interfaces wireless &lt;interface&gt; capabilities ht max-amsdu  &lt;3839 | 7935&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-max-amsdu-3839-7935" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Maximum A-MSDU length 3839 (default) or 7935 octets</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-short-gi-20-40">
set interfaces wireless &lt;interface&gt; capabilities ht  short-gi &lt;20 | 40&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-short-gi-20-40" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Short GI capabilities for 20 and 40 MHz</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-smps-static-dynamic">
set interfaces wireless &lt;interface&gt; capabilities ht  smps &lt;static | dynamic&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-smps-static-dynamic" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Spatial Multiplexing Power Save (SMPS) settings</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-stbc-rx-num">
set interfaces wireless &lt;interface&gt; capabilities ht stbc rx &lt;num&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-stbc-rx-num" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable receiving PPDU using STBC (Space Time Block Coding)</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-ht-stbc-tx">
set interfaces wireless &lt;interface&gt; capabilities ht stbc tx</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-ht-stbc-tx" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable sending PPDU using STBC (Space Time Block Coding)</p>
</div>
</div>
</section>
<section id="vht-very-high-throughput-capabilities-802-11ac">
<h5>VHT (Very High Throughput) capabilities (802.11ac)<a class="headerlink" href="#vht-very-high-throughput-capabilities-802-11ac" title="Link to this heading"></a></h5>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-antenna-count">
set interfaces wireless &lt;interface&gt; capabilities vht antenna-count</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-antenna-count" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Number of antennas on this card</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-antenna-pattern-fixed">
set interfaces wireless &lt;interface&gt; capabilities vht  antenna-pattern-fixed</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-antenna-pattern-fixed" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Set if antenna pattern does not change during the lifetime of an association</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-beamform-single-user-beamformer-single-user-beamformee-multi-user-beamformer-multi-user-beamformee">
set interfaces wireless &lt;interface&gt; capabilities vht beamform &lt;single-user-beamformer | single-user-beamformee | multi-user-beamformer | multi-user-beamformee&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-beamform-single-user-beamformer-single-user-beamformee-multi-user-beamformer-multi-user-beamformee" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Beamforming capabilities:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">single-user-beamformer</span></code> - Support for operation as
single user beamformer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single-user-beamformee</span></code> - Support for operation as
single user beamformee</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multi-user-beamformer</span></code> - Support for operation as
multi user beamformer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multi-user-beamformee</span></code> - Support for operation as
multi user beamformee</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-center-channel-freq-freq-1-freq-2-number">
set interfaces wireless &lt;interface&gt; capabilities vht  center-channel-freq &lt;freq-1 | freq-2&gt; &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-center-channel-freq-freq-1-freq-2-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>VHT operating channel center frequency - center freq 1
(for use with 80, 80+80 and 160 modes)</p>
<p>VHT operating channel center frequency - center freq 2
(for use with the 80+80 mode)</p>
<p>&lt;number&gt; must be from 34 - 173. For 80 MHz channels it should be channel + 6.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-channel-set-width-0-1-2-3">
set interfaces wireless &lt;interface&gt; capabilities vht channel-set-width &lt;0 | 1 | 2 | 3&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-channel-set-width-0-1-2-3" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> - 20 or 40 MHz channel width (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> - 80 MHz channel width</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code> - 160 MHz channel width</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code> - 80+80 MHz channel width</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-ldpc">
set interfaces wireless &lt;interface&gt; capabilities vht ldpc</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-ldpc" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable LDPC (Low Density Parity Check) coding capability</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-link-adaptation">
set interfaces wireless &lt;interface&gt; capabilities vht link-adaptation</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-link-adaptation" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>VHT link adaptation capabilities</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-max-mpdu-value">
set interfaces wireless &lt;interface&gt; capabilities vht  max-mpdu &lt;value&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-max-mpdu-value" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Increase Maximum MPDU length to 7991 or 11454 octets (default 3895 octets)</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-max-mpdu-exp-value">
set interfaces wireless &lt;interface&gt; capabilities vht  max-mpdu-exp &lt;value&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-max-mpdu-exp-value" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Set the maximum length of A-MPDU pre-EOF padding that the station can
receive</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-short-gi-80-160">
set interfaces wireless &lt;interface&gt; capabilities vht  short-gi &lt;80 | 160&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-short-gi-80-160" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Short GI capabilities</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-stbc-rx-num">
set interfaces wireless &lt;interface&gt; capabilities vht stbc rx &lt;num&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-stbc-rx-num" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable receiving PPDU using STBC (Space Time Block Coding)</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-stbc-tx">
set interfaces wireless &lt;interface&gt; capabilities vht stbc tx</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-stbc-tx" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable sending PPDU using STBC (Space Time Block Coding)</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-tx-powersave">
set interfaces wireless &lt;interface&gt; capabilities vht tx-powersave</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-tx-powersave" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable VHT TXOP Power Save Mode</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-vht-vht-cf">
set interfaces wireless &lt;interface&gt; capabilities vht vht-cf</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-vht-vht-cf" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Station supports receiving VHT variant HT Control field</p>
</div>
</div>
</section>
<section id="he-high-efficiency-capabilities-802-11ax">
<h5>HE (High Efficiency) capabilities (802.11ax)<a class="headerlink" href="#he-high-efficiency-capabilities-802-11ax" title="Link to this heading"></a></h5>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-he-antenna-pattern-fixed">
set interfaces wireless &lt;interface&gt; capabilities he antenna-pattern-fixed</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-he-antenna-pattern-fixed" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Tell the AP that antenna positions are fixed and will not change
during the lifetime of an association.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-he-beamform-single-user-beamformer-single-user-beamformee-multi-user-beamformer">
set interfaces wireless &lt;interface&gt; capabilities he beamform &lt;single-user-beamformer | single-user-beamformee | multi-user-beamformer&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-he-beamform-single-user-beamformer-single-user-beamformee-multi-user-beamformer" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Beamforming capabilities:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">single-user-beamformer</span></code> - Support for operation as
single user beamformer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single-user-beamformee</span></code> - Support for operation as
single user beamformee</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multi-user-beamformer</span></code> - Support for operation as single
user beamformer</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-he-bss-color-number">
set interfaces wireless &lt;interface&gt; capabilities he bss-color &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-he-bss-color-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>BSS coloring helps to prevent channel jamming when multiple APs use
the same channels.</p>
<p>Valid values are 1..63</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-he-center-channel-freq-freq-1-freq-2-number">
set interfaces wireless &lt;interface&gt; capabilities he center-channel-freq &lt;freq-1 | freq-2&gt; &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-he-center-channel-freq-freq-1-freq-2-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>HE operating channel center frequency - center freq 1
(for use with 80, 80+80 and 160 modes)</p>
<p>HE operating channel center frequency - center freq 2
(for use with the 80+80 mode)</p>
<p>&lt;number&gt; must be within 1..233. For 80 MHz channels it should be
channel + 6 and for 160 MHz channels, it should be channel + 14.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-he-channel-set-width-number">
set interfaces wireless &lt;interface&gt; capabilities he channel-set-width &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-he-channel-set-width-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>&lt;number&gt; must be one of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">81</span></code> - 20 MHz channel width (2.4GHz)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">83</span></code> - 40 MHz channel width, secondary 20MHz channel above primary
channel (2.4GHz)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">84</span></code> - 40 MHz channel width, secondary 20MHz channel below primary
channel (2.4GHz)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">131</span></code> - 20 MHz channel width (6GHz)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">132</span></code> - 40 MHz channel width (6GHz)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">133</span></code> - 80 MHz channel width (6GHz)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">134</span></code> - 160 MHz channel width (6GHz)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">135</span></code> - 80+80 MHz channel width (6GHz)</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-capabilities-he-coding-scheme-number">
set interfaces wireless &lt;interface&gt; capabilities he coding-scheme &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-capabilities-he-coding-scheme-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This setting configures Spacial Stream and Modulation Coding Scheme
settings for HE mode (HE-MCS). It is usually not needed to set this
explicitly, but it might help with some WiFi adapters.</p>
<p>&lt;number&gt; must be one of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> - HE-MCS 0-7</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> - HE-MCS 0-9</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code> - HE-MCS 0-11</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code> - HE-MCS is not supported</p></li>
</ul>
</div>
</div>
</section>
</section>
</section>
<section id="wireless-options-station-client">
<h3>Wireless options (Station/Client)<a class="headerlink" href="#wireless-options-station-client" title="Link to this heading"></a></h3>
<p>The example creates a wireless station (commonly referred to as Wi-Fi client)
that accesses the network through the WAP defined in the above example. The
default physical device (<code class="docutils literal notranslate"><span class="pre">phy0</span></code>) is used.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set system wireless country-code de
set interfaces wireless wlan0 type station
set interfaces wireless wlan0 address dhcp
set interfaces wireless wlan0 ssid Test
set interfaces wireless wlan0 security wpa passphrase &#39;12345678&#39;
</pre></div>
</div>
<p>Resulting in</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>system {
  wireless {
    country-code de
  }
}
interfaces {
  wireless wlan0 {
    address dhcp
    security {
      wpa {
        passphrase &quot;12345678&quot;
      }
    }
    ssid TEST
    type station
  }
</pre></div>
</div>
</section>
<section id="security">
<h3>Security<a class="headerlink" href="#security" title="Link to this heading"></a></h3>
<p><abbr title="Wi-Fi Protected Access">WPA</abbr>, WPA2 Enterprise and WPA3 Enterprise in
combination with 802.1x based authentication can be used to authenticate
users or computers in a domain.</p>
<p>The wireless client (supplicant) authenticates against the RADIUS server
(authentication server) using an <abbr title="Extensible Authentication Protocol">EAP</abbr> method configured on the RADIUS server. The WAP (also referred
to as authenticator) role is to send all authentication messages between the
supplicant and the configured authentication server, thus the RADIUS server
is responsible for authenticating the users.</p>
<p>The WAP in this example has the following characteristics:</p>
<ul class="simple">
<li><p>IP address <code class="docutils literal notranslate"><span class="pre">192.168.2.1/24</span></code></p></li>
<li><p>Network ID (SSID) <code class="docutils literal notranslate"><span class="pre">Enterprise-TEST</span></code></p></li>
<li><p>WPA passphrase <code class="docutils literal notranslate"><span class="pre">12345678</span></code></p></li>
<li><p>Use 802.11n protocol</p></li>
<li><p>Wireless channel <code class="docutils literal notranslate"><span class="pre">1</span></code></p></li>
<li><p>RADIUS server at <code class="docutils literal notranslate"><span class="pre">192.168.3.10</span></code> with shared-secret <code class="docutils literal notranslate"><span class="pre">VyOSPassword</span></code></p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set system wireless country-code de
set interfaces wireless wlan0 address &#39;192.168.2.1/24&#39;
set interfaces wireless wlan0 type access-point
set interfaces wireless wlan0 channel 1
set interfaces wireless wlan0 mode n
set interfaces wireless wlan0 ssid &#39;TEST&#39;
set interfaces wireless wlan0 security wpa mode wpa2
set interfaces wireless wlan0 security wpa cipher CCMP
set interfaces wireless wlan0 security wpa radius server 192.168.3.10 key &#39;VyOSPassword&#39;
set interfaces wireless wlan0 security wpa radius server 192.168.3.10 port 1812
</pre></div>
</div>
<p>Resulting in</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>system {
  wireless {
    country-code de
  }
}
interfaces {
  [...]
  wireless wlan0 {
        address 192.168.2.1/24
        channel 1
        mode n
        security {
            wpa {
                cipher CCMP
                mode wpa2
                radius {
                    server 192.168.3.10 {
                        key &#39;VyOSPassword&#39;
                        port 1812
                    }
                }
            }
        }
        ssid &quot;Enterprise-TEST&quot;
        type access-point
    }
}
</pre></div>
</div>
</section>
<section id="vlan">
<h3>VLAN<a class="headerlink" href="#vlan" title="Link to this heading"></a></h3>
<section id="regular-vlans-802-1q">
<h4>Regular VLANs (802.1q)<a class="headerlink" href="#regular-vlans-802-1q" title="Link to this heading"></a></h4>
<p>IEEE <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_802.1Q">802.1q</a>, often referred to as Dot1q, is the networking standard that
supports virtual LANs (VLANs) on an IEEE 802.3 Ethernet network. The standard
defines a system of VLAN tagging for Ethernet frames and the accompanying
procedures to be used by bridges and switches in handling such frames.
The standard also contains provisions for a quality-of-service prioritization
scheme commonly known as IEEE 802.1p and defines the
Generic Attribute Registration Protocol.</p>
<p>Portions of the network which are VLAN-aware (i.e., IEEE <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_802.1Q">802.1q</a> conformant) can
include VLAN tags. When a frame enters the VLAN-aware portion of the network, a
tag is added to represent the VLAN membership. Each frame must be
distinguishable as being within exactly one VLAN. A frame in the VLAN-aware
portion of the network that does not contain a VLAN tag is assumed to be
flowing on the native VLAN.</p>
<p>The standard was developed by IEEE 802.1, a working group of the IEEE 802
standards committee, and continues to be actively revised. One of the notable
revisions is 802.1Q-2014 which incorporated IEEE 802.1aq
(Shortest Path Bridging) and much of the IEEE 802.1d standard.</p>
<p>802.1q VLAN interfaces are represented as virtual sub-interfaces in VyOS. The
term used for this is <code class="docutils literal notranslate"><span class="pre">vif</span></code>.</p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Create a new VLAN interface on interface <cite>&lt;interface&gt;</cite> using the VLAN number
provided via <cite>&lt;vlan-id&gt;</cite>.</p>
<p>You can create multiple VLAN interfaces on a physical interface. The VLAN ID
range is from 0 to 4094.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only 802.1Q-tagged packets are accepted on Ethernet vifs.</p>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-address-address-dhcp-dhcpv6">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; address &lt;address | dhcp |  dhcpv6&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-address-address-dhcp-dhcpv6" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure interface <cite>&lt;interface&gt;</cite> with one or more interface addresses.</p>
<ul class="simple">
<li><p><strong>address</strong> can be specified multiple times as IPv4 and/or IPv6
address, e.g. 192.0.2.1/24 and/or 2001:db8::1/64</p></li>
<li><p><strong>dhcp</strong> interface address is received by DHCP from a DHCP server
on this segment.</p></li>
<li><p><strong>dhcpv6</strong> interface address is received by DHCPv6 from a DHCPv6
server on this segment.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using DHCP to retrieve IPv4 address and if local
customizations are needed, they should be possible using the enter and
exit hooks provided. The hook dirs are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/config/scripts/dhcp-client/pre-hooks.d/</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/config/scripts/dhcp-client/post-hooks.d/</span></code></p></li>
</ul>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 address 192.0.2.1/24
set interfaces wireless wlan0 vif 10 address 2001:db8::1/64
set interfaces wireless wlan0 vif 10 address dhcp
set interfaces wireless wlan0 vif 10 address dhcpv6
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-description-description">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; description &lt;description&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-description-description" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Set a human readable, descriptive alias for this connection. Alias is used by
e.g. the <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">interfaces</span></code> command or SNMP based monitoring tools.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 description &#39;This is an awesome interface running on VyOS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-disable">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; disable</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-disable" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Disable given <cite>&lt;interface&gt;</cite>. It will be placed in administratively down
(<code class="docutils literal notranslate"><span class="pre">A/D</span></code>) state.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 disable
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-disable-link-detect">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; disable-link-detect</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-disable-link-detect" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to direct an interface to not detect any physical state
changes on a link, for example, when the cable is unplugged.</p>
<p>Default is to detects physical link state changes.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 disable-link-detect
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-mac-xx-xx-xx-xx-xx-xx">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; mac &lt;xx:xx:xx:xx:xx:xx&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-mac-xx-xx-xx-xx-xx-xx" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure user defined <abbr title="Media Access Control">MAC</abbr> address on given
<cite>&lt;interface&gt;</cite>.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 mac &#39;00:53:01:02:03:04&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-mtu-mtu">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; mtu &lt;mtu&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-mtu-mtu" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure <abbr title="Maximum Transmission Unit">MTU</abbr> on given <cite>&lt;interface&gt;</cite>. It
is the size (in bytes) of the largest ethernet frame sent on this link.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 mtu 1600
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-adjust-mss-mss-clamp-mss-to-pmtu">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip adjust-mss &lt;mss | clamp-mss-to-pmtu&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-adjust-mss-mss-clamp-mss-to-pmtu" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>As Internet wide PMTU discovery rarely works, we sometimes need to clamp our
TCP MSS value to a specific value. This is a field in the TCP options part of
a SYN packet. By setting the MSS value, you are telling the remote side
unequivocally ‘do not try to send me packets bigger than this value’.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command was introduced in VyOS 1.4 - it was previously called:
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">firewall</span> <span class="pre">options</span> <span class="pre">interface</span> <span class="pre">&lt;name&gt;</span> <span class="pre">adjust-mss</span> <span class="pre">&lt;value&gt;</span></code></p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>MSS value = MTU - 20 (IP header) - 20 (TCP header), resulting in
1452 bytes on a 1492 byte MTU.</p>
</div>
<p>Instead of a numerical MSS value <cite>clamp-mss-to-pmtu</cite> can be used to
automatically set the proper value.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-arp-cache-timeout">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip arp-cache-timeout</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-arp-cache-timeout" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Once a neighbor has been found, the entry is considered to be valid for at
least for this specific time. An entry’s validity will be extended if it
receives positive feedback from higher level protocols.</p>
<p>This defaults to 30 seconds.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ip arp-cache-timeout 180
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-disable-arp-filter">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip disable-arp-filter</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-disable-arp-filter" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>If set the kernel can respond to arp requests with addresses from other
interfaces. This may seem wrong but it usually makes sense, because it
increases the chance of successful communication. IP addresses are owned by
the complete host on Linux, not by particular interfaces. Only for more
complex setups like load-balancing, does this behaviour cause problems.</p>
<p>If not set (default) allows you to have multiple network interfaces on the
same subnet, and have the ARPs for each interface be answered based on whether
or not the kernel would route a packet from the ARP’d IP out that interface
(therefore you must use source based routing for this to work).</p>
<p>In other words it allows control of which cards (usually 1) will respond to an
arp request.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ip disable-arp-filter
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-disable-forwarding">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip disable-forwarding</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-disable-forwarding" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure interface-specific Host/Router behaviour. If set, the interface will
switch to host mode and IPv6 forwarding will be disabled on this interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ip disable-forwarding
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-directed-broadcast">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip enable-directed-broadcast</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-directed-broadcast" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define different modes for IP directed broadcast forwarding as described in
<span class="target" id="index-11"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1812.html"><strong>RFC 1812</strong></a> and <span class="target" id="index-12"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2644.html"><strong>RFC 2644</strong></a>.</p>
<p>If configured, incoming IP directed broadcast packets on this interface will
be forwarded.</p>
<p>If this option is unset (default), incoming IP directed broadcast packets
will not be forwarded.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ip enable-directed-broadcast
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-arp-accept">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip enable-arp-accept</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-arp-accept" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define behavior for gratuitous ARP frames whose IP is not already present in
the ARP table. If configured create new entries in the ARP table.</p>
<p>Both replies and requests type gratuitous arp will trigger the ARP table to be
updated, if this setting is on.</p>
<p>If the ARP table already contains the IP address of the gratuitous arp frame,
the arp table will be updated regardless if this setting is on or off.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ip enable-arp-accept
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-arp-announce">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip enable-arp-announce</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-arp-announce" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define different restriction levels for announcing the local source IP address
from IP packets in ARP requests sent on interface.</p>
<p>Use any local address, configured on any interface if this is not set.</p>
<p>If configured, try to avoid local addresses that are not in the target’s
subnet for this interface. This mode is useful when target hosts reachable via
this interface require the source IP address in ARP requests to be part of
their logical network configured on the receiving interface. When we generate
the request we will check all our subnets that include the target IP and will
preserve the source address if it is from such subnet. If there is no such
subnet we select source address according to the rules for level 2.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ip enable-arp-announce
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-arp-ignore">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip enable-arp-ignore</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-arp-ignore" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define different modes for sending replies in response to received ARP
requests that resolve local target IP addresses:</p>
<p>If configured, reply only if the target IP address is local address configured
on the incoming interface.</p>
<p>If this option is unset (default), reply for any local target IP address,
configured on any interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ip enable-arp-ignore
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-proxy-arp">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip enable-proxy-arp</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-enable-proxy-arp" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to enable proxy Address Resolution Protocol (ARP) on this
interface. Proxy ARP allows an Ethernet interface to respond with its own
<abbr title="Media Access Control">MAC</abbr> address to ARP requests for destination IP
addresses on subnets attached to other interfaces on the system. Subsequent
packets sent to those destination IP addresses are forwarded appropriately by
the system.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ip enable-proxy-arp
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-proxy-arp-pvlan">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip proxy-arp-pvlan</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-proxy-arp-pvlan" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Private VLAN proxy arp. Basically allow proxy arp replies back to the same
interface (from which the ARP request/solicitation was received).</p>
<p>This is done to support (ethernet) switch features, like <span class="target" id="index-13"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3069.html"><strong>RFC 3069</strong></a>, where
the individual ports are NOT allowed to communicate with each other, but they
are allowed to talk to the upstream router. As described in <span class="target" id="index-14"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3069.html"><strong>RFC 3069</strong></a>, it is
possible to allow these hosts to communicate through the upstream router by
proxy_arp’ing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Does not need to be used together with proxy_arp.</p>
</div>
<p>This technology is known by different names:</p>
<ul class="simple">
<li><p>In <span class="target" id="index-15"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3069.html"><strong>RFC 3069</strong></a> it is called VLAN Aggregation</p></li>
<li><p>Cisco and Allied Telesyn call it Private VLAN</p></li>
<li><p>Hewlett-Packard call it Source-Port filtering or port-isolation</p></li>
<li><p>Ericsson call it MAC-Forced Forwarding (RFC Draft)</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-source-validation-strict-loose-disable">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ip source-validation &lt;strict | loose | disable&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ip-source-validation-strict-loose-disable" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable policy for source validation by reversed path, as specified in
<span class="target" id="index-16"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3704.html"><strong>RFC 3704</strong></a>. Current recommended practice in <span class="target" id="index-17"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3704.html"><strong>RFC 3704</strong></a> is to enable strict
mode to prevent IP spoofing from DDos attacks. If using asymmetric routing
or other complicated routing, then loose mode is recommended.</p>
<ul class="simple">
<li><p>strict: Each incoming packet is tested against the FIB and if the interface
is not the best reverse path the packet check will fail. By default failed
packets are discarded.</p></li>
<li><p>loose: Each incoming packet’s source address is also tested against the FIB
and if the source address is not reachable via any interface the packet
check will fail.</p></li>
<li><p>disable: No source validation</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-address-autoconf">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ipv6 address autoconf</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-address-autoconf" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p><abbr title="Stateless Address Autoconfiguration">SLAAC</abbr> <span class="target" id="index-18"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4862.html"><strong>RFC 4862</strong></a>. IPv6 hosts
can configure themselves automatically when connected to an IPv6 network using
the Neighbor Discovery Protocol via <abbr title="Internet Control Message Protocol version 6">ICMPv6</abbr> router discovery messages. When first connected to a
network, a host sends a link-local router solicitation multicast request for
its configuration parameters; routers respond to such a request with a router
advertisement packet that contains Internet Layer configuration parameters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method automatically disables IPv6 traffic forwarding on the
interface in question.</p>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ipv6 address autoconf
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-address-eui64-prefix">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ipv6 address eui64 &lt;prefix&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-address-eui64-prefix" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p><abbr title="64-Bit Extended Unique Identifier">EUI-64</abbr> as specified in
<span class="target" id="index-19"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4291.html"><strong>RFC 4291</strong></a> allows a host to assign iteslf a unique 64-Bit IPv6 address.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ipv6 address eui64 2001:db8:beef::/64
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-address-no-default-link-local">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ipv6 address no-default-link-local</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-address-no-default-link-local" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Do not assign a link-local IPv6 address to this interface.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ipv6 address no-default-link-local
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-disable-forwarding">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ipv6 disable-forwarding</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-disable-forwarding" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure interface-specific Host/Router behaviour. If set, the interface will
switch to host mode and IPv6 forwarding will be disabled on this interface.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ipv6 disable-forwarding
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-adjust-mss-mss-clamp-mss-to-pmtu">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ipv6 adjust-mss &lt;mss | clamp-mss-to-pmtu&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-adjust-mss-mss-clamp-mss-to-pmtu" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>As Internet wide PMTU discovery rarely works, we sometimes need to clamp our
TCP MSS value to a specific value. This is a field in the TCP options part of
a SYN packet. By setting the MSS value, you are telling the remote side
unequivocally ‘do not try to send me packets bigger than this value’.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command was introduced in VyOS 1.4 - it was previously called:
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">firewall</span> <span class="pre">options</span> <span class="pre">interface</span> <span class="pre">&lt;name&gt;</span> <span class="pre">adjust-mss6</span> <span class="pre">&lt;value&gt;</span></code></p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>MSS value = MTU - 40 (IPv6 header) - 20 (TCP header), resulting in
1432 bytes on a 1492 byte MTU.</p>
</div>
<p>Instead of a numerical MSS value <cite>clamp-mss-to-pmtu</cite> can be used to
automatically set the proper value.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-accept-dad-1-3">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ipv6 accept-dad &lt;1-3&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-accept-dad-1-3" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Whether to accept DAD (Duplicate Address Detection).</p>
<ul class="simple">
<li><p>0: Disable DAD</p></li>
<li><p>1: Enable DAD (default)</p></li>
<li><p>2: Enable DAD, and disable IPv6 operation if MAC-based duplicate link-local address has been found.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ipv6 accept-dad 2
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-dup-addr-detect-transmits-n">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; ipv6 dup-addr-detect-transmits &lt;n&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-ipv6-dup-addr-detect-transmits-n" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>The amount of Duplicate Address Detection probes to send.</p>
<p>Default: 1</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 ipv6 dup-addr-detect-transmits 5
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-vrf-vrf">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; vrf &lt;vrf&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-vrf-vrf" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Place interface in given VRF instance.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>There is an entire chapter about how to configure a <a class="reference internal" href="../vrf/index.html#vrf"><span class="std std-ref">VRF</span></a>,
please check this for additional information.</p>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 vrf red
</pre></div>
</div>
</div>
</div>
<p><strong>DHCP(v6)</strong></p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-client-id-description">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcp-options client-id &lt;description&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-client-id-description" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p><span class="target" id="index-20"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2131.html"><strong>RFC 2131</strong></a> states: The client MAY choose to explicitly provide the identifier
through the ‘client identifier’ option. If the client supplies a ‘client
identifier’, the client MUST use the same ‘client identifier’ in all
subsequent messages, and the server MUST use that identifier to identify the
client.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcp-options client-id &#39;foo-bar&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-host-name-hostname">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcp-options host-name &lt;hostname&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-host-name-hostname" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Instead of sending the real system hostname to the DHCP server, overwrite the
host-name with this given-value.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcp-options host-name &#39;VyOS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-vendor-class-id-vendor-id">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcp-options vendor-class-id &lt;vendor-id&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-vendor-class-id-vendor-id" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This option is used by some DHCP clients to identify the vendor type and
possibly the configuration of a DHCP client. The information is a string of
bytes whose contents are specific to the vendor and are not specified in a
standard.</p>
<p>The vendor-class-id option can be used to request a specific class of vendor
options from the server.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcp-options vendor-class-id &#39;VyOS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-no-default-route">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcp-options no-default-route</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-no-default-route" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Only request an address from the DHCP server but do not request a default
gateway.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcp-options no-default-route
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-default-route-distance-distance">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcp-options default-route-distance &lt;distance&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-default-route-distance-distance" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Set the distance for the default gateway sent by the DHCP server.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcp-options default-route-distance 220
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-reject-address">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcp-options reject &lt;address&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-reject-address" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Reject DHCP leases from a given address or range.
This is useful when a modem gives a local IP when first starting.</p>
<ul class="simple">
<li><p><strong>address</strong> can be specified multiple times,
e.g. 192.168.100.1 and/or 192.168.100.0/24</p></li>
</ul>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcp-options reject 192.168.100.0/24
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-user-class-string">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcp-options user-class &lt;string&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcp-options-user-class-string" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This option is used by some DHCP clients as a way for users to specify
identifying information to the client. This can be used in a similar way to
the vendor-class-identifier option, but the value of the option is specified
by the user, not the vendor.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcp-options user-class VyOS
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-duid-duid">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcpv6-options duid &lt;duid&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-duid-duid" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>The DHCP unique identifier (DUID) is used by a client to get an IP address
from a DHCPv6 server. It has a 2-byte DUID type field, and a variable-length
identifier field up to 128 bytes. Its actual length depends on its type. The
server compares the DUID with its database and delivers configuration data
(address, lease times, DNS servers, etc.) to the client.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 duid &#39;0e:00:00:01:00:01:27:71:db:f0:00:50:56:bf:c5:6d&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-no-release">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcpv6-options no-release</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-no-release" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>When no-release is specified, dhcp6c will avoid sending a release message on
client exit in order to prevent losing an assigned address or prefix.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcpv6-options no-release
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-parameters-only">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcpv6-options parameters-only</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-parameters-only" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This statement specifies dhcp6c to only exchange informational configuration
parameters with servers. A list of DNS server addresses is an example of such
parameters. This statement is useful when the client does not need stateful
configuration parameters such as IPv6 addresses or prefixes.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcpv6-options parameters-only
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-rapid-commit">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcpv6-options rapid-commit</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-rapid-commit" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>When rapid-commit is specified, dhcp6c will include a rapid-commit option in
solicit messages and wait for an immediate reply instead of advertisements.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcpv6-options rapid-commit
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-temporary">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcpv6-options temporary</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-temporary" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Request only a temporary address and not form an IA_NA (Identity Association
for Non-temporary Addresses) partnership.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcpv6-options temporary
</pre></div>
</div>
</div>
</div>
<p><strong>DHCPv6 Prefix Delegation (PD)</strong></p>
<p>VyOS 1.3 (equuleus) supports DHCPv6-PD (<span class="target" id="index-21"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3633.html"><strong>RFC 3633</strong></a>). DHCPv6 Prefix Delegation
is supported by most ISPs who provide native IPv6 for consumers on fixed
networks.</p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-pd-id-length-length">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcpv6-options pd &lt;id&gt; length &lt;length&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-pd-id-length-length" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Some ISPs by default only delegate a /64 prefix. To request for a specific
prefix size use this option to request for a bigger delegation for this pd
<cite>&lt;id&gt;</cite>. This value is in the range from 32 - 64 so you could request up to a
/32 prefix (if your ISP allows this) down to a /64 delegation.</p>
<p>The default value corresponds to 64.</p>
<p>To request a /56 prefix from your ISP use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcpv6-options pd 0 length 56
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-pd-id-interface-delegatee-address-address">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcpv6-options pd &lt;id&gt; interface &lt;delegatee&gt; address &lt;address&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-pd-id-interface-delegatee-address-address" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Specify the interface address used locally on the interface where the prefix
has been delegated to. ID must be a decimal integer.</p>
<p>It will be combined with the delegated prefix and the sla-id to form a
complete interface address. The default is to use the EUI-64 address of the
interface.</p>
<p>Example: Delegate a /64 prefix to interface eth8 which will use a local
address on this router of <code class="docutils literal notranslate"><span class="pre">&lt;prefix&gt;::ffff</span></code>, as the address 65534 will
correspond to <code class="docutils literal notranslate"><span class="pre">ffff</span></code> in hexadecimal notation.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcpv6-options pd 0 interface eth8 address 65534
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-pd-id-interface-delegatee-sla-id-id">
set interfaces wireless &lt;interface&gt; vif &lt;vlan-id&gt; dhcpv6-options pd &lt;id&gt; interface &lt;delegatee&gt; sla-id &lt;id&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-vlan-id-dhcpv6-options-pd-id-interface-delegatee-sla-id-id" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Specify the identifier value of the site-level aggregator (SLA) on the
interface. ID must be a decimal number greater then 0 which fits in the
length of SLA IDs (see below).</p>
<p>Example: If ID is 1 and the client is delegated an IPv6 prefix
2001:db8:ffff::/48, dhcp6c will combine the two values into a single IPv6
prefix, 2001:db8:ffff:1::/64, and will configure the prefix on the specified
interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif 10 dhcpv6-options pd 0 interface eth8 sla-id 1
</pre></div>
</div>
</div>
</div>
</section>
<section id="qinq-802-1ad">
<h4>QinQ (802.1ad)<a class="headerlink" href="#qinq-802-1ad" title="Link to this heading"></a></h4>
<div class="admonition error">
<p class="admonition-title">Call for Contributions</p><p>This section needs improvements, examples and explanations.</p>
<p>Please take a look at the Contributing Guide for our <a class="reference internal" href="../../documentation.html#documentation"><span class="std std-ref">Write Documentation</span></a>.</p>
</div><p>IEEE <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_802.1ad">802.1ad</a> was an Ethernet networking standard informally known as QinQ as
an amendment to IEEE standard 802.1q VLAN interfaces as described above.
802.1ad was incorporated into the base <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_802.1Q">802.1q</a> standard in 2011. The technique
is also known as provider bridging, Stacked VLANs, or simply QinQ or Q-in-Q.
“Q-in-Q” can for supported devices apply to C-tag stacking on C-tag (Ethernet
Type = 0x8100).</p>
<p>The original <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_802.1Q">802.1q</a> specification allows a single Virtual Local Area Network
(VLAN) header to be inserted into an Ethernet frame. QinQ allows multiple
VLAN tags to be inserted into a single frame, an essential capability for
implementing Metro Ethernet network topologies. Just as QinQ extends 802.1Q,
QinQ itself is extended by other Metro Ethernet protocols.</p>
<p>In a multiple VLAN header context, out of convenience the term “VLAN tag” or
just “tag” for short is often used in place of “<a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_802.1Q">802.1q</a> VLAN header”. QinQ
allows multiple VLAN tags in an Ethernet frame; together these tags constitute
a tag stack. When used in the context of an Ethernet frame, a QinQ frame is a
frame that has 2 VLAN <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_802.1Q">802.1q</a> headers (double-tagged).</p>
<p>In VyOS the terms <code class="docutils literal notranslate"><span class="pre">vif-s</span></code> and <code class="docutils literal notranslate"><span class="pre">vif-c</span></code> stand for the ethertype tags that
are used.</p>
<p>The inner tag is the tag which is closest to the payload portion of the frame.
It is officially called C-TAG (customer tag, with ethertype 0x8100). The outer
tag is the one closer/closest to the Ethernet header, its name is S-TAG
(service tag with Ethernet Type = 0x88a8).</p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-address-address-dhcp-dhcpv6">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; address &lt;address | dhcp |  dhcpv6&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-address-address-dhcp-dhcpv6" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure interface <cite>&lt;interface&gt;</cite> with one or more interface addresses.</p>
<ul class="simple">
<li><p><strong>address</strong> can be specified multiple times as IPv4 and/or IPv6
address, e.g. 192.0.2.1/24 and/or 2001:db8::1/64</p></li>
<li><p><strong>dhcp</strong> interface address is received by DHCP from a DHCP server
on this segment.</p></li>
<li><p><strong>dhcpv6</strong> interface address is received by DHCPv6 from a DHCPv6
server on this segment.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using DHCP to retrieve IPv4 address and if local
customizations are needed, they should be possible using the enter and
exit hooks provided. The hook dirs are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/config/scripts/dhcp-client/pre-hooks.d/</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/config/scripts/dhcp-client/post-hooks.d/</span></code></p></li>
</ul>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 address 192.0.2.1/24
set interfaces wireless wlan0 vif-s 1000 vif-c 20 address 2001:db8::1/64
set interfaces wireless wlan0 vif-s 1000 vif-c 20 address dhcp
set interfaces wireless wlan0 vif-s 1000 vif-c 20 address dhcpv6
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-description-description">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; description &lt;description&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-description-description" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Set a human readable, descriptive alias for this connection. Alias is used by
e.g. the <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">interfaces</span></code> command or SNMP based monitoring tools.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 description &#39;This is an awesome interface running on VyOS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-disable">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; disable</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-disable" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Disable given <cite>&lt;interface&gt;</cite>. It will be placed in administratively down
(<code class="docutils literal notranslate"><span class="pre">A/D</span></code>) state.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 disable
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-disable-link-detect">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; disable-link-detect</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-disable-link-detect" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to direct an interface to not detect any physical state
changes on a link, for example, when the cable is unplugged.</p>
<p>Default is to detects physical link state changes.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 disable-link-detect
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-mac-xx-xx-xx-xx-xx-xx">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; mac &lt;xx:xx:xx:xx:xx:xx&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-mac-xx-xx-xx-xx-xx-xx" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure user defined <abbr title="Media Access Control">MAC</abbr> address on given
<cite>&lt;interface&gt;</cite>.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 mac &#39;00:53:01:02:03:04&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-mtu-mtu">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; mtu &lt;mtu&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-mtu-mtu" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure <abbr title="Maximum Transmission Unit">MTU</abbr> on given <cite>&lt;interface&gt;</cite>. It
is the size (in bytes) of the largest ethernet frame sent on this link.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 mtu 1600
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-adjust-mss-mss-clamp-mss-to-pmtu">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip adjust-mss &lt;mss | clamp-mss-to-pmtu&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-adjust-mss-mss-clamp-mss-to-pmtu" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>As Internet wide PMTU discovery rarely works, we sometimes need to clamp our
TCP MSS value to a specific value. This is a field in the TCP options part of
a SYN packet. By setting the MSS value, you are telling the remote side
unequivocally ‘do not try to send me packets bigger than this value’.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command was introduced in VyOS 1.4 - it was previously called:
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">firewall</span> <span class="pre">options</span> <span class="pre">interface</span> <span class="pre">&lt;name&gt;</span> <span class="pre">adjust-mss</span> <span class="pre">&lt;value&gt;</span></code></p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>MSS value = MTU - 20 (IP header) - 20 (TCP header), resulting in
1452 bytes on a 1492 byte MTU.</p>
</div>
<p>Instead of a numerical MSS value <cite>clamp-mss-to-pmtu</cite> can be used to
automatically set the proper value.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-arp-cache-timeout">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip arp-cache-timeout</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-arp-cache-timeout" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Once a neighbor has been found, the entry is considered to be valid for at
least for this specific time. An entry’s validity will be extended if it
receives positive feedback from higher level protocols.</p>
<p>This defaults to 30 seconds.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ip arp-cache-timeout 180
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-disable-arp-filter">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip disable-arp-filter</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-disable-arp-filter" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>If set the kernel can respond to arp requests with addresses from other
interfaces. This may seem wrong but it usually makes sense, because it
increases the chance of successful communication. IP addresses are owned by
the complete host on Linux, not by particular interfaces. Only for more
complex setups like load-balancing, does this behaviour cause problems.</p>
<p>If not set (default) allows you to have multiple network interfaces on the
same subnet, and have the ARPs for each interface be answered based on whether
or not the kernel would route a packet from the ARP’d IP out that interface
(therefore you must use source based routing for this to work).</p>
<p>In other words it allows control of which cards (usually 1) will respond to an
arp request.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ip disable-arp-filter
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-disable-forwarding">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip disable-forwarding</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-disable-forwarding" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure interface-specific Host/Router behaviour. If set, the interface will
switch to host mode and IPv6 forwarding will be disabled on this interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ip disable-forwarding
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-directed-broadcast">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip enable-directed-broadcast</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-directed-broadcast" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define different modes for IP directed broadcast forwarding as described in
<span class="target" id="index-22"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1812.html"><strong>RFC 1812</strong></a> and <span class="target" id="index-23"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2644.html"><strong>RFC 2644</strong></a>.</p>
<p>If configured, incoming IP directed broadcast packets on this interface will
be forwarded.</p>
<p>If this option is unset (default), incoming IP directed broadcast packets
will not be forwarded.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ip enable-directed-broadcast
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-arp-accept">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip enable-arp-accept</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-arp-accept" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define behavior for gratuitous ARP frames whose IP is not already present in
the ARP table. If configured create new entries in the ARP table.</p>
<p>Both replies and requests type gratuitous arp will trigger the ARP table to be
updated, if this setting is on.</p>
<p>If the ARP table already contains the IP address of the gratuitous arp frame,
the arp table will be updated regardless if this setting is on or off.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ip enable-arp-accept
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-arp-announce">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip enable-arp-announce</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-arp-announce" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define different restriction levels for announcing the local source IP address
from IP packets in ARP requests sent on interface.</p>
<p>Use any local address, configured on any interface if this is not set.</p>
<p>If configured, try to avoid local addresses that are not in the target’s
subnet for this interface. This mode is useful when target hosts reachable via
this interface require the source IP address in ARP requests to be part of
their logical network configured on the receiving interface. When we generate
the request we will check all our subnets that include the target IP and will
preserve the source address if it is from such subnet. If there is no such
subnet we select source address according to the rules for level 2.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ip enable-arp-announce
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-arp-ignore">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip enable-arp-ignore</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-arp-ignore" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Define different modes for sending replies in response to received ARP
requests that resolve local target IP addresses:</p>
<p>If configured, reply only if the target IP address is local address configured
on the incoming interface.</p>
<p>If this option is unset (default), reply for any local target IP address,
configured on any interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ip enable-arp-ignore
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-proxy-arp">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip enable-proxy-arp</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-enable-proxy-arp" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to enable proxy Address Resolution Protocol (ARP) on this
interface. Proxy ARP allows an Ethernet interface to respond with its own
<abbr title="Media Access Control">MAC</abbr> address to ARP requests for destination IP
addresses on subnets attached to other interfaces on the system. Subsequent
packets sent to those destination IP addresses are forwarded appropriately by
the system.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ip enable-proxy-arp
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-proxy-arp-pvlan">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip proxy-arp-pvlan</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-proxy-arp-pvlan" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Private VLAN proxy arp. Basically allow proxy arp replies back to the same
interface (from which the ARP request/solicitation was received).</p>
<p>This is done to support (ethernet) switch features, like <span class="target" id="index-24"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3069.html"><strong>RFC 3069</strong></a>, where
the individual ports are NOT allowed to communicate with each other, but they
are allowed to talk to the upstream router. As described in <span class="target" id="index-25"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3069.html"><strong>RFC 3069</strong></a>, it is
possible to allow these hosts to communicate through the upstream router by
proxy_arp’ing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Does not need to be used together with proxy_arp.</p>
</div>
<p>This technology is known by different names:</p>
<ul class="simple">
<li><p>In <span class="target" id="index-26"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3069.html"><strong>RFC 3069</strong></a> it is called VLAN Aggregation</p></li>
<li><p>Cisco and Allied Telesyn call it Private VLAN</p></li>
<li><p>Hewlett-Packard call it Source-Port filtering or port-isolation</p></li>
<li><p>Ericsson call it MAC-Forced Forwarding (RFC Draft)</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-source-validation-strict-loose-disable">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ip source-validation &lt;strict | loose | disable&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ip-source-validation-strict-loose-disable" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enable policy for source validation by reversed path, as specified in
<span class="target" id="index-27"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3704.html"><strong>RFC 3704</strong></a>. Current recommended practice in <span class="target" id="index-28"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3704.html"><strong>RFC 3704</strong></a> is to enable strict
mode to prevent IP spoofing from DDos attacks. If using asymmetric routing
or other complicated routing, then loose mode is recommended.</p>
<ul class="simple">
<li><p>strict: Each incoming packet is tested against the FIB and if the interface
is not the best reverse path the packet check will fail. By default failed
packets are discarded.</p></li>
<li><p>loose: Each incoming packet’s source address is also tested against the FIB
and if the source address is not reachable via any interface the packet
check will fail.</p></li>
<li><p>disable: No source validation</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-address-autoconf">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ipv6 address autoconf</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-address-autoconf" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p><abbr title="Stateless Address Autoconfiguration">SLAAC</abbr> <span class="target" id="index-29"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4862.html"><strong>RFC 4862</strong></a>. IPv6 hosts
can configure themselves automatically when connected to an IPv6 network using
the Neighbor Discovery Protocol via <abbr title="Internet Control Message Protocol version 6">ICMPv6</abbr> router discovery messages. When first connected to a
network, a host sends a link-local router solicitation multicast request for
its configuration parameters; routers respond to such a request with a router
advertisement packet that contains Internet Layer configuration parameters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method automatically disables IPv6 traffic forwarding on the
interface in question.</p>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ipv6 address autoconf
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-address-eui64-prefix">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ipv6 address eui64 &lt;prefix&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-address-eui64-prefix" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p><abbr title="64-Bit Extended Unique Identifier">EUI-64</abbr> as specified in
<span class="target" id="index-30"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4291.html"><strong>RFC 4291</strong></a> allows a host to assign iteslf a unique 64-Bit IPv6 address.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ipv6 address eui64 2001:db8:beef::/64
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-address-no-default-link-local">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ipv6 address no-default-link-local</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-address-no-default-link-local" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Do not assign a link-local IPv6 address to this interface.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ipv6 address no-default-link-local
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-disable-forwarding">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ipv6 disable-forwarding</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-disable-forwarding" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure interface-specific Host/Router behaviour. If set, the interface will
switch to host mode and IPv6 forwarding will be disabled on this interface.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ipv6 disable-forwarding
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-adjust-mss-mss-clamp-mss-to-pmtu">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ipv6 adjust-mss &lt;mss | clamp-mss-to-pmtu&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-adjust-mss-mss-clamp-mss-to-pmtu" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>As Internet wide PMTU discovery rarely works, we sometimes need to clamp our
TCP MSS value to a specific value. This is a field in the TCP options part of
a SYN packet. By setting the MSS value, you are telling the remote side
unequivocally ‘do not try to send me packets bigger than this value’.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command was introduced in VyOS 1.4 - it was previously called:
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">firewall</span> <span class="pre">options</span> <span class="pre">interface</span> <span class="pre">&lt;name&gt;</span> <span class="pre">adjust-mss6</span> <span class="pre">&lt;value&gt;</span></code></p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>MSS value = MTU - 40 (IPv6 header) - 20 (TCP header), resulting in
1432 bytes on a 1492 byte MTU.</p>
</div>
<p>Instead of a numerical MSS value <cite>clamp-mss-to-pmtu</cite> can be used to
automatically set the proper value.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-accept-dad-1-3">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ipv6 accept-dad &lt;1-3&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-accept-dad-1-3" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Whether to accept DAD (Duplicate Address Detection).</p>
<ul class="simple">
<li><p>0: Disable DAD</p></li>
<li><p>1: Enable DAD (default)</p></li>
<li><p>2: Enable DAD, and disable IPv6 operation if MAC-based duplicate link-local address has been found.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ipv6 accept-dad 2
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-dup-addr-detect-transmits-n">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; ipv6 dup-addr-detect-transmits &lt;n&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-ipv6-dup-addr-detect-transmits-n" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>The amount of Duplicate Address Detection probes to send.</p>
<p>Default: 1</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 ipv6 dup-addr-detect-transmits 5
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-vrf-vrf">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; vrf &lt;vrf&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-vrf-vrf" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Place interface in given VRF instance.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>There is an entire chapter about how to configure a <a class="reference internal" href="../vrf/index.html#vrf"><span class="std std-ref">VRF</span></a>,
please check this for additional information.</p>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 vrf red
</pre></div>
</div>
</div>
</div>
<p><strong>DHCP(v6)</strong></p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-client-id-description">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcp-options client-id &lt;description&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-client-id-description" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p><span class="target" id="index-31"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2131.html"><strong>RFC 2131</strong></a> states: The client MAY choose to explicitly provide the identifier
through the ‘client identifier’ option. If the client supplies a ‘client
identifier’, the client MUST use the same ‘client identifier’ in all
subsequent messages, and the server MUST use that identifier to identify the
client.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcp-options client-id &#39;foo-bar&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-host-name-hostname">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcp-options host-name &lt;hostname&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-host-name-hostname" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Instead of sending the real system hostname to the DHCP server, overwrite the
host-name with this given-value.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcp-options host-name &#39;VyOS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-vendor-class-id-vendor-id">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcp-options vendor-class-id &lt;vendor-id&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-vendor-class-id-vendor-id" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This option is used by some DHCP clients to identify the vendor type and
possibly the configuration of a DHCP client. The information is a string of
bytes whose contents are specific to the vendor and are not specified in a
standard.</p>
<p>The vendor-class-id option can be used to request a specific class of vendor
options from the server.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcp-options vendor-class-id &#39;VyOS&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-no-default-route">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcp-options no-default-route</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-no-default-route" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Only request an address from the DHCP server but do not request a default
gateway.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcp-options no-default-route
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-default-route-distance-distance">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcp-options default-route-distance &lt;distance&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-default-route-distance-distance" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Set the distance for the default gateway sent by the DHCP server.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcp-options default-route-distance 220
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-reject-address">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcp-options reject &lt;address&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-reject-address" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Reject DHCP leases from a given address or range.
This is useful when a modem gives a local IP when first starting.</p>
<ul class="simple">
<li><p><strong>address</strong> can be specified multiple times,
e.g. 192.168.100.1 and/or 192.168.100.0/24</p></li>
</ul>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcp-options reject 192.168.100.0/24
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-user-class-string">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcp-options user-class &lt;string&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcp-options-user-class-string" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This option is used by some DHCP clients as a way for users to specify
identifying information to the client. This can be used in a similar way to
the vendor-class-identifier option, but the value of the option is specified
by the user, not the vendor.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcp-options user-class VyOS
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-duid-duid">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcpv6-options duid &lt;duid&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-duid-duid" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>The DHCP unique identifier (DUID) is used by a client to get an IP address
from a DHCPv6 server. It has a 2-byte DUID type field, and a variable-length
identifier field up to 128 bytes. Its actual length depends on its type. The
server compares the DUID with its database and delivers configuration data
(address, lease times, DNS servers, etc.) to the client.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 duid &#39;0e:00:00:01:00:01:27:71:db:f0:00:50:56:bf:c5:6d&#39;
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-no-release">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcpv6-options no-release</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-no-release" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>When no-release is specified, dhcp6c will avoid sending a release message on
client exit in order to prevent losing an assigned address or prefix.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcpv6-options no-release
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-parameters-only">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcpv6-options parameters-only</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-parameters-only" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This statement specifies dhcp6c to only exchange informational configuration
parameters with servers. A list of DNS server addresses is an example of such
parameters. This statement is useful when the client does not need stateful
configuration parameters such as IPv6 addresses or prefixes.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcpv6-options parameters-only
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-rapid-commit">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcpv6-options rapid-commit</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-rapid-commit" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>When rapid-commit is specified, dhcp6c will include a rapid-commit option in
solicit messages and wait for an immediate reply instead of advertisements.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcpv6-options rapid-commit
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-temporary">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcpv6-options temporary</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-temporary" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Request only a temporary address and not form an IA_NA (Identity Association
for Non-temporary Addresses) partnership.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcpv6-options temporary
</pre></div>
</div>
</div>
</div>
<p><strong>DHCPv6 Prefix Delegation (PD)</strong></p>
<p>VyOS 1.3 (equuleus) supports DHCPv6-PD (<span class="target" id="index-32"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3633.html"><strong>RFC 3633</strong></a>). DHCPv6 Prefix Delegation
is supported by most ISPs who provide native IPv6 for consumers on fixed
networks.</p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-pd-id-length-length">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcpv6-options pd &lt;id&gt; length &lt;length&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-pd-id-length-length" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Some ISPs by default only delegate a /64 prefix. To request for a specific
prefix size use this option to request for a bigger delegation for this pd
<cite>&lt;id&gt;</cite>. This value is in the range from 32 - 64 so you could request up to a
/32 prefix (if your ISP allows this) down to a /64 delegation.</p>
<p>The default value corresponds to 64.</p>
<p>To request a /56 prefix from your ISP use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcpv6-options pd 0 length 56
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-pd-id-interface-delegatee-address-address">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcpv6-options pd &lt;id&gt; interface &lt;delegatee&gt; address &lt;address&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-pd-id-interface-delegatee-address-address" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Specify the interface address used locally on the interface where the prefix
has been delegated to. ID must be a decimal integer.</p>
<p>It will be combined with the delegated prefix and the sla-id to form a
complete interface address. The default is to use the EUI-64 address of the
interface.</p>
<p>Example: Delegate a /64 prefix to interface eth8 which will use a local
address on this router of <code class="docutils literal notranslate"><span class="pre">&lt;prefix&gt;::ffff</span></code>, as the address 65534 will
correspond to <code class="docutils literal notranslate"><span class="pre">ffff</span></code> in hexadecimal notation.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcpv6-options pd 0 interface eth8 address 65534
</pre></div>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-pd-id-interface-delegatee-sla-id-id">
set interfaces wireless &lt;interface&gt; vif-s &lt;vlan-id&gt; vif-c &lt;vlan-id&gt; dhcpv6-options pd &lt;id&gt; interface &lt;delegatee&gt; sla-id &lt;id&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-interfaces-wireless-interface-vif-s-vlan-id-vif-c-vlan-id-dhcpv6-options-pd-id-interface-delegatee-sla-id-id" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Specify the identifier value of the site-level aggregator (SLA) on the
interface. ID must be a decimal number greater then 0 which fits in the
length of SLA IDs (see below).</p>
<p>Example: If ID is 1 and the client is delegated an IPv6 prefix
2001:db8:ffff::/48, dhcp6c will combine the two values into a single IPv6
prefix, 2001:db8:ffff:1::/64, and will configure the prefix on the specified
interface.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces wireless wlan0 vif-s 1000 vif-c 20 dhcpv6-options pd 0 interface eth8 sla-id 1
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="operation">
<h2>Operation<a class="headerlink" href="#operation" title="Link to this heading"></a></h2>
<div class="cmd cmd-op">
<div class="opcmd-heading">
<span class="opcmd" id="opcmd-show-interfaces-wireless-info">
show interfaces wireless info</span>
<a class="cmdlink" href="#opcmd-show-interfaces-wireless-info" title="Permalink to this Command"></a></div></div>
<p>Use this command to view operational status and wireless-specific information
about all wireless interfaces.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$ show interfaces wireless info
Interface  Type          SSID                         Channel
wlan0      access-point  VyOS-TEST-0                        1
</pre></div>
</div>
<div class="cmd cmd-op">
<div class="opcmd-heading">
<span class="opcmd" id="opcmd-show-interfaces-wireless-detail">
show interfaces wireless detail</span>
<a class="cmdlink" href="#opcmd-show-interfaces-wireless-detail" title="Permalink to this Command"></a></div></div>
<p>Use this command to view operational status and details wireless-specific
information about all wireless interfaces.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$ show interfaces wireless detail
wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000
    link/ether XX:XX:XX:XX:XX:c3 brd XX:XX:XX:XX:XX:ff
    inet xxx.xxx.99.254/24 scope global wlan0
       valid_lft forever preferred_lft forever
    inet6 fe80::xxxx:xxxx:fe54:2fc3/64 scope link
       valid_lft forever preferred_lft forever

    RX:  bytes    packets     errors    dropped    overrun      mcast
         66072        282          0          0          0          0
    TX:  bytes    packets     errors    dropped    carrier collisions
         83413        430          0          0          0          0

wlan1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000
    link/ether XX:XX:XX:XX:XX:c3 brd XX:XX:XX:XX:XX:ff
    inet xxx.xxx.100.254/24 scope global wlan0
       valid_lft forever preferred_lft forever
    inet6 fe80::xxxx:xxxx:ffff:2ed3/64 scope link
       valid_lft forever preferred_lft forever

    RX:  bytes    packets     errors    dropped    overrun      mcast
         166072      5282          0          0          0          0
    TX:  bytes    packets     errors    dropped    carrier collisions
         183413      5430          0          0          0          0
</pre></div>
</div>
<div class="cmd cmd-op">
<div class="opcmd-heading">
<span class="opcmd" id="opcmd-show-interfaces-wireless-wlanx">
show interfaces wireless &lt;wlanX&gt;</span>
<a class="cmdlink" href="#opcmd-show-interfaces-wireless-wlanx" title="Permalink to this Command"></a></div></div>
<p>This command shows both status and statistics on the specified wireless
interface. The wireless interface identifier can range from wlan0 to wlan999.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$ show interfaces wireless wlan0
wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000
    link/ether XX:XX:XX:XX:XX:c3 brd XX:XX:XX:XX:XX:ff
    inet xxx.xxx.99.254/24 scope global wlan0
       valid_lft forever preferred_lft forever
    inet6 fe80::xxxx:xxxx:fe54:2fc3/64 scope link
       valid_lft forever preferred_lft forever

    RX:  bytes    packets     errors    dropped    overrun      mcast
         66072        282          0          0          0          0
    TX:  bytes    packets     errors    dropped    carrier collisions
         83413        430          0          0          0          0
</pre></div>
</div>
<div class="cmd cmd-op">
<div class="opcmd-heading">
<span class="opcmd" id="opcmd-show-interfaces-wireless-wlanx-brief">
show interfaces wireless &lt;wlanX&gt; brief</span>
<a class="cmdlink" href="#opcmd-show-interfaces-wireless-wlanx-brief" title="Permalink to this Command"></a></div></div>
<p>This command gives a brief status overview of a specified wireless interface.
The wireless interface identifier can range from wlan0 to wlan999.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$ show interfaces wireless wlan0 brief
Codes: S - State, L - Link, u - Up, D - Down, A - Admin Down
Interface        IP Address                        S/L  Description
---------        ----------                        ---  -----------
wlan0            192.168.2.254/24                    u/u
</pre></div>
</div>
<div class="cmd cmd-op">
<div class="opcmd-heading">
<span class="opcmd" id="opcmd-show-interfaces-wireless-wlanx-queue">
show interfaces wireless &lt;wlanX&gt; queue</span>
<a class="cmdlink" href="#opcmd-show-interfaces-wireless-wlanx-queue" title="Permalink to this Command"></a></div></div>
<p>Use this command to view wireless interface queue information.
The wireless interface identifier can range from wlan0 to wlan999.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$ show interfaces wireless wlan0 queue
qdisc pfifo_fast 0: root bands 3 priomap 1 2 2 2 1 2 0 0 1 1 1 1 1 1 1 1
 Sent 810323 bytes 6016 pkt (dropped 0, overlimits 0 requeues 0)
 rate 0bit 0pps backlog 0b 0p requeues 0
</pre></div>
</div>
<div class="cmd cmd-op">
<div class="opcmd-heading">
<span class="opcmd" id="opcmd-show-interfaces-wireless-wlanx-scan">
show interfaces wireless &lt;wlanX&gt; scan</span>
<a class="cmdlink" href="#opcmd-show-interfaces-wireless-wlanx-scan" title="Permalink to this Command"></a></div></div>
<p>This command is used to retrieve information about WAP within the range of your
wireless interface. This command is useful on wireless interfaces configured
in station mode.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Scanning is not supported on all wireless drivers and wireless
hardware. Refer to your driver and wireless hardware documentation for
further details.</p>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$ show interfaces wireless wlan0 scan
Address            SSID                          Channel  Signal (dbm)
00:53:3b:88:6e:d8  WLAN-576405                         1  -64.00
00:53:3b:88:6e:da  Telekom_FON                         1  -64.00
00:53:00:f2:c2:a4  BabyView_F2C2A4                     6  -60.00
00:53:3b:88:6e:d6  Telekom_FON                       100  -72.00
00:53:3b:88:6e:d4  WLAN-576405                       100  -71.00
00:53:44:a4:96:ec  KabelBox-4DC8                      56  -81.00
00:53:d9:7a:67:c2  WLAN-741980                         1  -75.00
00:53:7c:99:ce:76  Vodafone Homespot                   1  -86.00
00:53:44:a4:97:21  KabelBox-4DC8                       1  -78.00
00:53:44:a4:97:21  Vodafone Hotspot                    1  -79.00
00:53:44:a4:97:21  Vodafone Homespot                   1  -79.00
00:53:86:40:30:da  Telekom_FON                         1  -86.00
00:53:7c:99:ce:76  Vodafone Hotspot                    1  -86.00
00:53:44:46:d2:0b  Vodafone Hotspot                    1  -87.00
</pre></div>
</div>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p>The following example creates a WAP. When configuring multiple WAP interfaces,
you must specify unique IP addresses, channels, Network IDs commonly referred
to as <abbr title="Service Set Identifier">SSID</abbr>, and MAC addresses.</p>
<p>The WAP in this example has the following characteristics:</p>
<ul class="simple">
<li><p>IP address <code class="docutils literal notranslate"><span class="pre">192.168.2.1/24</span></code></p></li>
<li><p>Network ID (SSID) <code class="docutils literal notranslate"><span class="pre">TEST</span></code></p></li>
<li><p>WPA passphrase <code class="docutils literal notranslate"><span class="pre">12345678</span></code></p></li>
<li><p>Use 802.11n protocol</p></li>
<li><p>Wireless channel <code class="docutils literal notranslate"><span class="pre">1</span></code></p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set system wireless country-code de
set interfaces wireless wlan0 address &#39;192.168.2.1/24&#39;
set interfaces wireless wlan0 type access-point
set interfaces wireless wlan0 channel 1
set interfaces wireless wlan0 mode n
set interfaces wireless wlan0 ssid &#39;TEST&#39;
set interfaces wireless wlan0 security wpa mode wpa2
set interfaces wireless wlan0 security wpa cipher CCMP
set interfaces wireless wlan0 security wpa passphrase &#39;12345678&#39;
</pre></div>
</div>
<p>Resulting in</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>system {
  wireless {
    country-code de
  }
}
interfaces {
  [...]
  wireless wlan0 {
        address 192.168.2.1/24
        channel 1
        mode n
        security {
            wpa {
                cipher CCMP
                mode wpa2
                passphrase &quot;12345678&quot;
            }
        }
        ssid &quot;TEST&quot;
        type access-point
    }
}
</pre></div>
</div>
<p>To get it to work as an access point with this configuration you will need
to set up a DHCP server to work with that network. You can - of course - also
bridge the Wireless interface with any configured bridge
(<a class="reference internal" href="bridge.html#bridge-interface"><span class="std std-ref">Bridge</span></a>) on the system.</p>
<section id="wifi-6-e-802-11ax">
<h3>WiFi-6(e) - 802.11ax<a class="headerlink" href="#wifi-6-e-802-11ax" title="Link to this heading"></a></h3>
<p>The following examples will show valid configurations for WiFi-6 (2.4GHz)
and WiFi-6e (6GHz) Access-Points with the following characteristics:</p>
<ul class="simple">
<li><p>Network ID (SSID) <code class="docutils literal notranslate"><span class="pre">test.ax</span></code></p></li>
<li><p>WPA passphrase <code class="docutils literal notranslate"><span class="pre">super-dooper-secure-passphrase</span></code></p></li>
<li><p>Use 802.11ax protocol</p></li>
<li><p>Wireless channel <code class="docutils literal notranslate"><span class="pre">11</span></code> for 2.4GHz</p></li>
<li><p>Wireless channel <code class="docutils literal notranslate"><span class="pre">5</span></code> for 6GHz</p></li>
</ul>
<section id="example-configuration-wifi-6-at-2-4ghz">
<h4>Example Configuration: WiFi-6 at 2.4GHz<a class="headerlink" href="#example-configuration-wifi-6-at-2-4ghz" title="Link to this heading"></a></h4>
<p>You may expect real throughputs around 10MBytes/s or higher in crowded areas.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set system wireless country-code de
set interfaces wireless wlan0 capabilities he antenna-pattern-fixed
set interfaces wireless wlan0 capabilities he beamform multi-user-beamformer
set interfaces wireless wlan0 capabilities he beamform single-user-beamformee
set interfaces wireless wlan0 capabilities he beamform single-user-beamformer
set interfaces wireless wlan0 capabilities he bss-color 13
set interfaces wireless wlan0 capabilities he channel-set-width 81
set interfaces wireless wlan0 capabilities ht 40mhz-incapable
set interfaces wireless wlan0 capabilities ht channel-set-width ht20
set interfaces wireless wlan0 capabilities ht channel-set-width ht40+
set interfaces wireless wlan0 capabilities ht channel-set-width ht40-
set interfaces wireless wlan0 capabilities ht short-gi 20
set interfaces wireless wlan0 capabilities ht short-gi 40
set interfaces wireless wlan0 capabilities ht stbc rx 2
set interfaces wireless wlan0 capabilities ht stbc tx
set interfaces wireless wlan0 channel 11
set interfaces wireless wlan0 description &quot;802.11ax 2.4GHz&quot;
set interfaces wireless wlan0 mode ax
set interfaces wireless wlan0 security wpa cipher CCMP
set interfaces wireless wlan0 security wpa cipher CCMP-256
set interfaces wireless wlan0 security wpa cipher GCMP-256
set interfaces wireless wlan0 security wpa cipher GCMP
set interfaces wireless wlan0 security wpa mode wpa2
set interfaces wireless wlan0 security wpa passphrase super-dooper-secure-passphrase
set interfaces wireless wlan0 ssid test.ax
set interfaces wireless wlan0 type access-point
commit
</pre></div>
</div>
<p>Resulting in</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>system {
  wireless {
    country-code de
  }
}
interfaces {
  [...]
  wireless wlan0 {
        capabilities {
            he {
                antenna-pattern-fixed
                beamform {
                    multi-user-beamformer
                    single-user-beamformee
                    single-user-beamformer
                }
                bss-color 13
                channel-set-width 81
            }
            ht {
                40mhz-incapable
                channel-set-width ht20
                channel-set-width ht40+
                channel-set-width ht40-
                short-gi 20
                short-gi 40
                stbc {
                    rx 2
                    tx
                }
            }
        }
        channel 11
        description &quot;802.11ax 2.4GHz&quot;
        hw-id [...]
        mode ax
        physical-device phy0
        security {
            wpa {
                cipher CCMP
                cipher CCMP-256
                cipher GCMP-256
                cipher GCMP
                mode wpa2
                passphrase super-dooper-secure-passphrase
            }
        }
        ssid test.ax
        type access-point
    }
}
</pre></div>
</div>
</section>
<section id="example-configuration-wifi-6e-at-6ghz">
<h4>Example Configuration: WiFi-6e at 6GHz<a class="headerlink" href="#example-configuration-wifi-6e-at-6ghz" title="Link to this heading"></a></h4>
<p>You may expect real throughputs around 50MBytes/s to 150MBytes/s,
depending on obstructions by walls, water, metal or other materials
with high electro-magnetic dampening at 6GHz. Best results are achieved
with the AP being in the same room and in line-of-sight.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set system wireless country-code de
set interfaces wireless wlan0 capabilities he antenna-pattern-fixed
set interfaces wireless wlan0 capabilities he beamform multi-user-beamformer
set interfaces wireless wlan0 capabilities he beamform single-user-beamformee
set interfaces wireless wlan0 capabilities he beamform single-user-beamformer
set interfaces wireless wlan0 capabilities he bss-color 13
set interfaces wireless wlan0 capabilities he channel-set-width 134
set interfaces wireless wlan0 capabilities he capabilities he center-channel-freq freq-1 15
set interfaces wireless wlan0 channel 5
set interfaces wireless wlan0 description &quot;802.11ax 6GHz&quot;
set interfaces wireless wlan0 mode ax
set interfaces wireless wlan0 security wpa cipher CCMP
set interfaces wireless wlan0 security wpa cipher CCMP-256
set interfaces wireless wlan0 security wpa cipher GCMP-256
set interfaces wireless wlan0 security wpa cipher GCMP
set interfaces wireless wlan0 security wpa mode wpa3
set interfaces wireless wlan0 security wpa passphrase super-dooper-secure-passphrase
set interfaces wireless wlan0 mgmt-frame-protection required
set interfaces wireless wlan0 enable-bf-protection
set interfaces wireless wlan0 ssid test.ax
set interfaces wireless wlan0 type access-point
set interfaces wireless wlan0 stationary-ap
commit
</pre></div>
</div>
<p>Resulting in</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>system {
  wireless {
    country-code de
  }
}
interfaces {
  [...]
  wireless wlan0 {
        capabilities {
            he {
                antenna-pattern-fixed
                beamform {
                    multi-user-beamformer
                    single-user-beamformee
                    single-user-beamformer
                }
                bss-color 13
                center-channel-freq {
                    freq-1 15
                }
                channel-set-width 134
            }
        }
        channel 5
        description &quot;802.11ax 6GHz&quot;
        enable-bf-protection
        hw-id [...]
        mgmt-frame-protection required
        mode ax
        physical-device phy0
        security {
            wpa {
                cipher CCMP
                cipher CCMP-256
                cipher GCMP-256
                cipher GCMP
                mode wpa3
                passphrase super-dooper-secure-passphrase
            }
        }
        ssid test.ax
        stationary-ap
        type access-point
    }
}
</pre></div>
</div>
</section>
</section>
<section id="intel-ax200">
<span id="wireless-interface-intel-ax200"></span><h3>Intel AX200<a class="headerlink" href="#intel-ax200" title="Link to this heading"></a></h3>
<p>The Intel AX200 card does not work out of the box in AP mode, see
<a class="reference external" href="https://unix.stackexchange.com/questions/598275/intel-ax200-ap-mode">https://unix.stackexchange.com/questions/598275/intel-ax200-ap-mode</a>. You can
still put this card into AP mode using the following configuration:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set system wireless country-code &#39;us&#39;
set interfaces wireless wlan0 channel &#39;1&#39;
set interfaces wireless wlan0 mode &#39;n&#39;
set interfaces wireless wlan0 physical-device &#39;phy0&#39;
set interfaces wireless wlan0 ssid &#39;VyOS&#39;
set interfaces wireless wlan0 type &#39;access-point&#39;
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="vxlan.html" class="btn btn-neutral float-left" title="VXLAN" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wwan.html" class="btn btn-neutral float-right" title="WWAN - Wireless Wide-Area-Network" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2024, VyOS maintainers and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>