

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OpenFabric &mdash; VyOS 1.5.x (circinus) documentation</title>
      <link rel="stylesheet" type="text/css" href="../../static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../static/sphinx-design.min.css?v=95c83b7e" />

  
    <link rel="shortcut icon" href="../../static/vyos-logo-icon.png"/>
      <script src="../../static/jquery.js?v=5d32c60e"></script>
      <script src="../../static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../static/documentation_options.js?v=719443cf"></script>
      <script src="../../static/doctools.js?v=9bcbadda"></script>
      <script src="../../static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../static/design-tabs.js?v=f930bc37"></script>
    <script src="../../static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="OSPF" href="ospf.html" />
    <link rel="prev" title="Segment Routing" href="segment-routing.html" />
    <style>#vyos-header-iframe{position:fixed;top:0;left:0;right:0;z-index:999999999;width:100%;border:none}</style>
    <style>#vyos-footer-iframe{width:100%;border:none}</style>
    <link href="../../static/css/custom.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/lists.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/hints.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/headers.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/breadcrumbs.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/linkButtons.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/text.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/leftSidebar.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/scrolls.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/tables.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/installation/running-on-bare-metal.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/code-snippets.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/separate-commands.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/configuration/index.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/datatables.css" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script type="text/javascript" charset="utf8" src="../../static/js/datatables.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/tables.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/codecopier.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/sidebar.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/footer.js"></script>
    </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            VyOS
              <img src="../../static/vyos-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../introducing/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introducing/history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">First Steps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation and Image Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html#configuration-overview">Configuration Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Adminguide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Configuration Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../container/index.html">Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../firewall/index.html">Firewall</a></li>
<li class="toctree-l2"><a class="reference internal" href="../highavailability/index.html">High availability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/index.html">Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../loadbalancing/index.html">Load-balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nat/index.html">NAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../policy/index.html">Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pki/index.html">PKI</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Protocols</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="arp.html">ARP</a></li>
<li class="toctree-l3"><a class="reference internal" href="babel.html">Babel</a></li>
<li class="toctree-l3"><a class="reference internal" href="bfd.html">BFD</a></li>
<li class="toctree-l3"><a class="reference internal" href="bgp.html">BGP</a></li>
<li class="toctree-l3"><a class="reference internal" href="failover.html">Failover</a></li>
<li class="toctree-l3"><a class="reference internal" href="igmp-proxy.html">IGMP Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="isis.html">IS-IS</a></li>
<li class="toctree-l3"><a class="reference internal" href="mpls.html">MPLS</a></li>
<li class="toctree-l3"><a class="reference internal" href="multicast.html">Multicast</a></li>
<li class="toctree-l3"><a class="reference internal" href="segment-routing.html">Segment Routing</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">OpenFabric</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ospf.html">OSPF</a></li>
<li class="toctree-l3"><a class="reference internal" href="pim.html">PIM – Protocol Independent Multicast</a></li>
<li class="toctree-l3"><a class="reference internal" href="pim6.html">PIM6 - Protocol Independent Multicast for IPv6</a></li>
<li class="toctree-l3"><a class="reference internal" href="rip.html">RIP</a></li>
<li class="toctree-l3"><a class="reference internal" href="rpki.html">RPKI</a></li>
<li class="toctree-l3"><a class="reference internal" href="static.html">Static</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../service/index.html">Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trafficpolicy/index.html">Traffic Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vpn/index.html">VPN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vrf/index.html">VRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vrf/index.html#l3vpn-vrfs">L3VPN VRFs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operation/index.html">Operation Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../automation/index.html">VyOS Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configexamples/index.html">Configuration Blueprints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configexamples/index.html#configuration-blueprints-autotest">Configuration Blueprints (autotest)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/build-vyos.html">Build VyOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/issues-features.html">Issues/Feature requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/upstream-packages.html">Upstream packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/testing.html">Testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">Write Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coverage.html">Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright Notice</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VyOS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Configuration Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html">Protocols</a></li>
      <li class="breadcrumb-item active">OpenFabric</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../sources/configuration/protocols/openfabric.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="openfabric">
<span id="id1"></span><h1>OpenFabric<a class="headerlink" href="#openfabric" title="Link to this heading"></a></h1>
<p>OpenFabric, specified in <a class="reference external" href="https://datatracker.ietf.org/doc/html/draft-white-openfabric-06">draft-white-openfabric-06.txt</a>, is
a routing protocol derived from IS-IS, providing link-state routing with
efficient flooding for topologies like spine-leaf networks.</p>
<p>OpenFabric a dual stack protocol.
A single OpenFabric instance is able to perform routing for both IPv4 and IPv6.</p>
<section id="general">
<h2>General<a class="headerlink" href="#general" title="Link to this heading"></a></h2>
<section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Link to this heading"></a></h3>
<section id="mandatory-settings">
<h4>Mandatory Settings<a class="headerlink" href="#mandatory-settings" title="Link to this heading"></a></h4>
<p>For OpenFabric to operate correctly, one must do the equivalent of a Router ID
in Connectionless Network Service (CLNS). This Router ID is called the
<abbr title="Network Entity Title">NET</abbr>. The system identifier must be unique within
the network</p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-net-network-entity-title">
set protocols openfabric net &lt;network-entity-title&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-net-network-entity-title" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets network entity title (NET) provided in ISO format.</p>
<p>Here is an example <abbr title="Network Entity Title">NET</abbr> value:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>49.0001.1921.6800.1002.00
</pre></div>
</div>
<p>The CLNS address consists of the following parts:</p>
<ul class="simple">
<li><p><abbr title="Address family authority identifier">AFI</abbr> - <code class="docutils literal notranslate"><span class="pre">49</span></code> The AFI value
49 is what OpenFabric uses for private addressing.</p></li>
<li><p>Area identifier: <code class="docutils literal notranslate"><span class="pre">0001</span></code> OpenFabric area number (numerical area <code class="docutils literal notranslate"><span class="pre">1</span></code>)</p></li>
<li><p>System identifier: <code class="docutils literal notranslate"><span class="pre">1921.6800.1002</span></code> - for system identifiers we recommend
to use IP address or MAC address of the router itself. The way to construct
this is to keep all of the zeroes of the router IP address, and then change
the periods from being every three numbers to every four numbers. The
address that is listed here is <code class="docutils literal notranslate"><span class="pre">192.168.1.2</span></code>, which if expanded will turn
into <code class="docutils literal notranslate"><span class="pre">192.168.001.002</span></code>. Then all one has to do is move the dots to have
four numbers instead of three. This gives us <code class="docutils literal notranslate"><span class="pre">1921.6800.1002</span></code>.</p></li>
<li><p><abbr title="Network Entity Title">NET</abbr> selector: <code class="docutils literal notranslate"><span class="pre">00</span></code> Must always be 00. This
setting indicates “this system” or “local system.”</p></li>
</ul>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-interface-interface-address-family-ipv4-ipv6">
set protocols openfabric domain &lt;name&gt; interface &lt;interface&gt;  address-family &lt;ipv4|ipv6&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-interface-interface-address-family-ipv4-ipv6" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command enables OpenFabric instance with &lt;NAME&gt; on this interface, and
allows for adjacency to occur for address family (IPv4 or IPv6 or both).</p>
</div>
</div>
</section>
<section id="openfabric-global-configuration">
<h4>OpenFabric Global Configuration<a class="headerlink" href="#openfabric-global-configuration" title="Link to this heading"></a></h4>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-password-plaintext-password-md5-password">
set protocols openfabric domain-password &lt;plaintext-password|md5&gt; &lt;password&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-password-plaintext-password-md5-password" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command configures the authentication password for a routing domain,
as clear text or md5 one.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-purge-originator">
set protocols openfabric domain &lt;name&gt; purge-originator</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-purge-originator" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command enables <span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6232.html"><strong>RFC 6232</strong></a> purge originator identification.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-set-overload-bit">
set protocols openfabric domain &lt;name&gt; set-overload-bit</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-set-overload-bit" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets overload bit to avoid any transit traffic through this
router.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-log-adjacency-changes">
set protocols openfabric domain &lt;name&gt; log-adjacency-changes</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-log-adjacency-changes" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Log changes in adjacency state.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-fabric-tier-number">
set protocols openfabric domain &lt;name&gt; fabric-tier &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-fabric-tier-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets a static tier number to advertise as location
in the fabric.</p>
</div>
</div>
</section>
<section id="interface-configuration">
<h4>Interface Configuration<a class="headerlink" href="#interface-configuration" title="Link to this heading"></a></h4>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-interface-interface-hello-interval-seconds">
set protocols openfabric interface &lt;interface&gt; hello-interval &lt;seconds&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-interface-interface-hello-interval-seconds" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets hello interval in seconds on a given interface.
The range is 1 to 600. Hello packets are used to establish and maintain
adjacency between OpenFabric neighbors.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-interface-interface-hello-multiplier-number">
set protocols openfabric domain &lt;name&gt; interface &lt;interface&gt;  hello-multiplier &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-interface-interface-hello-multiplier-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets multiplier for hello holding time on a given
interface. The range is 2 to 100.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-interface-interface-metric-metric">
set protocols openfabric domain &lt;name&gt; interface &lt;interface&gt;  metric &lt;metric&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-interface-interface-metric-metric" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets default metric for circuit.
The metric range is 1 to 16777215.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-interface-interface-passive">
set protocols openfabric interface &lt;interface&gt; passive</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-interface-interface-passive" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command enables the passive mode for this interface.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-interface-interface-password-plaintext-password-text">
set protocols openfabric domain &lt;name&gt; interface &lt;interface&gt;  password plaintext-password &lt;text&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-interface-interface-password-plaintext-password-text" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets the authentication password for the interface.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-interface-interface-csnp-interval-seconds">
set protocols openfabric domain &lt;name&gt; interface &lt;interface&gt;  csnp-interval &lt;seconds&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-interface-interface-csnp-interval-seconds" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets Complete Sequence Number Packets (CSNP) interval in seconds.
The interval range is 1 to 600.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-interface-interface-psnp-interval-number">
set protocols openfabric domain &lt;name&gt; interface &lt;interface&gt;  psnp-interval &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-interface-interface-psnp-interval-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets Partial Sequence Number Packets (PSNP) interval in seconds.
The interval range is 1 to 120.</p>
</div>
</div>
</section>
<section id="timers">
<h4>Timers<a class="headerlink" href="#timers" title="Link to this heading"></a></h4>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-lsp-gen-interval-seconds">
set protocols openfabric domain &lt;name&gt; lsp-gen-interval &lt;seconds&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-lsp-gen-interval-seconds" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets minimum interval at which link-state packets (LSPs) are
generated. The interval range is 1 to 120.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-lsp-refresh-interval-seconds">
set protocols openfabric domain &lt;name&gt; lsp-refresh-interval &lt;seconds&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-lsp-refresh-interval-seconds" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets LSP refresh interval in seconds. The interval range
is 1 to 65235.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-max-lsp-lifetime-seconds">
set protocols openfabric domain &lt;name&gt; max-lsp-lifetime &lt;seconds&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-max-lsp-lifetime-seconds" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets LSP maximum LSP lifetime in seconds. The interval range
is 360 to 65535. LSPs remain in a database for 1200 seconds by default.
If they are not refreshed by that time, they are deleted. You can change
the LSP refresh interval or the LSP lifetime. The LSP refresh interval
should be less than the LSP lifetime or else LSPs will time out before
they are refreshed.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-protocols-openfabric-domain-name-spf-interval-seconds">
set protocols openfabric domain &lt;name&gt; spf-interval &lt;seconds&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-protocols-openfabric-domain-name-spf-interval-seconds" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>This command sets minimum interval between consecutive shortest path first
(SPF) calculations in seconds.The interval range is 1 to 120.</p>
</div>
</div>
</section>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<section id="enable-openfabric">
<h3>Enable OpenFabric<a class="headerlink" href="#enable-openfabric" title="Link to this heading"></a></h3>
<p><strong>Node 1:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces loopback lo address &#39;192.168.255.255/32&#39;
set interfaces ethernet eth1 address &#39;192.0.2.1/24&#39;

set protocols openfabric domain VyOS interface eth1 address-family ipv4
set protocols openfabric domain VyOS interface lo address-family ipv4
set protocols openfabric net &#39;49.0001.1921.6825.5255.00&#39;
</pre></div>
</div>
<p><strong>Node 2:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set interfaces loopback lo address &#39;192.168.255.254/32&#39;
set interfaces ethernet eth1 address &#39;192.0.2.2/24&#39;

set protocols openfabric domain VyOS interface eth1 address-family ipv4
set protocols openfabric domain VyOS interface lo address-family ipv4
set protocols openfabric net &#39;49.0001.1921.6825.5254.00&#39;
</pre></div>
</div>
<p>This gives us the following neighborships:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Node-1@vyos:~$ show openfabric neighbor
show openfabric neighbor
Area VyOS:
  System Id           Interface   L  State        Holdtime SNPA
 vyos                eth1        2  Up            27       2020.2020.2020


Node-2@vyos:~$ show openfabric neighbor
show openfabric neighbor
Area VyOS:
  System Id           Interface   L  State        Holdtime SNPA
 vyos                eth1        2  Up            30       2020.2020.2020
</pre></div>
</div>
<p>Here’s the IP routes that are populated:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Node-1@vyos:~$ show ip route openfabric
show ip route openfabric
Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, F - PBR,
       f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

f   192.0.2.0/24 [115/20] via 192.0.2.2, eth1 onlink, weight 1, 00:00:10
f&gt;* 192.168.255.254/32 [115/20] via 192.0.2.2, eth1 onlink, weight 1, 00:00:10

Node-2@vyos:~$ show ip route openfabric
show ip route openfabric
Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, F - PBR,
       f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

f   192.0.2.0/24 [115/20] via 192.0.2.1, eth1 onlink, weight 1, 00:00:48
f&gt;* 192.168.255.255/32 [115/20] via 192.0.2.1, eth1 onlink, weight 1, 00:00:48
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="segment-routing.html" class="btn btn-neutral float-left" title="Segment Routing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ospf.html" class="btn btn-neutral float-right" title="OSPF" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2024, VyOS maintainers and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <head>
      <style>
          #branch-select-container {
              position: fixed;
              bottom: 10px;
              right: 10px;
              background-color: #f0f0f0;
              padding: 5px;
              border: 1px solid #ccc;
              border-radius: 5px;
          }
      </style>
  </head>
  <body>
      <div id="branch-select-container">
          <select id="branch-select">
              <option value="sagitta">Sagitta</option>
              <option value="circinus">Circinus</option>
          </select>
      </div>
      <script>
          // Define the branches
          const branches = ['sagitta', 'circinus'];
  
          // Get the current branch name from the URL
          const currentUrl = window.location.href;
          const currentBranch = branches.find(branch => currentUrl.includes(branch));
  
          // Set the selected option in the dropdown
          const branchSelect = document.getElementById('branch-select');
          branchSelect.value = currentBranch;
  
          // Add an event listener to the dropdown
          branchSelect.addEventListener('change', () => {
              const newBranch = branchSelect.value;
              const newUrl = currentUrl.replace(currentBranch, newBranch);
              window.location.href = newUrl;
          });
      </script>
  </body>


</body>
</html>