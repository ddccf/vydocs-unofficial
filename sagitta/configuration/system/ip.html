

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IP &mdash; VyOS 1.4.x (sagitta) documentation</title>
      <link rel="stylesheet" type="text/css" href="../../static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../static/sphinx-design.min.css?v=95c83b7e" />

  
    <link rel="shortcut icon" href="../../static/vyos-logo-icon.png"/>
      <script src="../../static/jquery.js?v=5d32c60e"></script>
      <script src="../../static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../static/documentation_options.js?v=8f5ed1cd"></script>
      <script src="../../static/doctools.js?v=9bcbadda"></script>
      <script src="../../static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../static/design-tabs.js?v=f930bc37"></script>
    <script src="../../static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="IPv6" href="ipv6.html" />
    <link rel="prev" title="Host Information" href="host-name.html" />
    <style>#vyos-header-iframe{position:fixed;top:0;left:0;right:0;z-index:999999999;width:100%;border:none}</style>
    <style>#vyos-footer-iframe{width:100%;border:none}</style>
    <link href="../../static/css/custom.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/lists.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/hints.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/headers.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/breadcrumbs.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/linkButtons.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/text.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/leftSidebar.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/scrolls.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/tables.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/installation/running-on-bare-metal.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/code-snippets.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/separate-commands.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/configuration/index.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/datatables.css" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script type="text/javascript" charset="utf8" src="../../static/js/datatables.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/tables.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/codecopier.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/sidebar.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/footer.js"></script>
    </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            VyOS
              <img src="../../static/vyos-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../introducing/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introducing/history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">First Steps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation and Image Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html#configuration-overview">Configuration Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Adminguide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Configuration Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../container/index.html">Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../firewall/index.html">Firewall</a></li>
<li class="toctree-l2"><a class="reference internal" href="../highavailability/index.html">High availability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/index.html">Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../loadbalancing/index.html">Load-balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nat/index.html">NAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../policy/index.html">Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pki/index.html">PKI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../service/index.html">Service</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">System</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="acceleration.html">Acceleration</a></li>
<li class="toctree-l3"><a class="reference internal" href="conntrack.html">Conntrack</a></li>
<li class="toctree-l3"><a class="reference internal" href="console.html">Serial Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="flow-accounting.html">Flow Accounting</a></li>
<li class="toctree-l3"><a class="reference internal" href="frr.html">FRR</a></li>
<li class="toctree-l3"><a class="reference internal" href="host-name.html">Host Information</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">IP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-configuration-commands">System configuration commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operational-commands">Operational commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ipv6.html">IPv6</a></li>
<li class="toctree-l3"><a class="reference internal" href="lcd.html">System Display (LCD)</a></li>
<li class="toctree-l3"><a class="reference internal" href="login.html">Login/User Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="name-server.html">System DNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="option.html">Option</a></li>
<li class="toctree-l3"><a class="reference internal" href="proxy.html">System Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="sflow.html">sFlow</a></li>
<li class="toctree-l3"><a class="reference internal" href="syslog.html">Syslog</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysctl.html">Sysctl</a></li>
<li class="toctree-l3"><a class="reference internal" href="task-scheduler.html">Task Scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="time-zone.html">Time Zone</a></li>
<li class="toctree-l3"><a class="reference internal" href="updates.html">Updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="default-route.html">Default Gateway/Route</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../trafficpolicy/index.html">Traffic Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vpn/index.html">VPN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vrf/index.html">VRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vrf/index.html#l3vpn-vrfs">L3VPN VRFs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operation/index.html">Operation Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../automation/index.html">VyOS Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configexamples/index.html">Configuration Blueprints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configexamples/index.html#configuration-blueprints-autotest">Configuration Blueprints (autotest)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/build-vyos.html">Build VyOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/issues-features.html">Issues/Feature requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/upstream-packages.html">Upstream packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/testing.html">Testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">Write Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coverage.html">Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright Notice</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VyOS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Configuration Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html">System</a></li>
      <li class="breadcrumb-item active">IP</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../sources/configuration/system/ip.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ip">
<h1>IP<a class="headerlink" href="#ip" title="Link to this heading"></a></h1>
<section id="system-configuration-commands">
<h2>System configuration commands<a class="headerlink" href="#system-configuration-commands" title="Link to this heading"></a></h2>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-ip-disable-forwarding">
set system ip disable-forwarding</span>
<a class="cmdlink" href="#cfgcmd-set-system-ip-disable-forwarding" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to disable IPv4 forwarding on all interfaces.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-ip-disable-directed-broadcast">
set system ip disable-directed-broadcast</span>
<a class="cmdlink" href="#cfgcmd-set-system-ip-disable-directed-broadcast" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to disable IPv4 directed broadcast forwarding on all
interfaces.</p>
<p>If set, IPv4 directed broadcast forwarding will be completely disabled
regardless of whether per-interface directed broadcast forwarding is
enabled or not.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-ip-arp-table-size-number">
set system ip arp table-size &lt;number&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-ip-arp-table-size-number" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to define the maximum number of entries to keep in
the ARP cache (1024, 2048, 4096, 8192, 16384, 32768).</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-ip-multipath-layer4-hashing">
set system ip multipath layer4-hashing</span>
<a class="cmdlink" href="#cfgcmd-set-system-ip-multipath-layer4-hashing" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use this command to use Layer 4 information for IPv4 ECMP hashing.</p>
</div>
</div>
<section id="zebra-kernel-route-filtering">
<h3>Zebra/Kernel route filtering<a class="headerlink" href="#zebra-kernel-route-filtering" title="Link to this heading"></a></h3>
<p>Zebra supports prefix-lists and Route Mapss to match routes received from
other FRR components. The permit/deny facilities provided by these commands
can be used to filter which routes zebra will install in the kernel.</p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-ip-protocol-protocol-route-map-route-map">
set system ip protocol &lt;protocol&gt; route-map &lt;route-map&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-ip-protocol-protocol-route-map-route-map" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Apply a route-map filter to routes for the specified protocol. The following
protocols can be used: any, babel, bgp, connected, eigrp, isis, kernel,
ospf, rip, static, table</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you choose any as the option that will cause all protocols that
are sending routes to zebra.</p>
</div>
</div>
</div>
</section>
<section id="nexthop-tracking">
<h3>Nexthop Tracking<a class="headerlink" href="#nexthop-tracking" title="Link to this heading"></a></h3>
<p>Nexthop tracking resolve nexthops via the default route by default. This is enabled
by default for a traditional profile of FRR which we use. It and can be disabled if
you do not wan’t to e.g. allow BGP to peer across the default route.</p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-ip-nht-no-resolve-via-default">
set system ip nht no-resolve-via-default</span>
<a class="cmdlink" href="#cfgcmd-set-system-ip-nht-no-resolve-via-default" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Do not allow IPv4 nexthop tracking to resolve via the default route. This
parameter is configured per-VRF, so the command is also available in the VRF
subnode.</p>
</div>
</div>
</section>
</section>
<section id="operational-commands">
<h2>Operational commands<a class="headerlink" href="#operational-commands" title="Link to this heading"></a></h2>
<section id="show-commands">
<h3>show commands<a class="headerlink" href="#show-commands" title="Link to this heading"></a></h3>
<p>See below the different parameters available for the IPv4 <strong>show</strong> command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$ show ip
Possible completions:
  access-list   Show all IP access-lists
  as-path-access-list
                Show all as-path-access-lists
  bgp           Show Border Gateway Protocol (BGP) information
  community-list
                Show IP community-lists
  extcommunity-list
                Show extended IP community-lists
  forwarding    Show IP forwarding status
  groups        Show IP multicast group membership
  igmp          Show IGMP (Internet Group Management Protocol) information
  large-community-list
                Show IP large-community-lists
  multicast     Show IP multicast
  ospf          Show IPv4 Open Shortest Path First (OSPF) routing information
  pim           Show PIM (Protocol Independent Multicast) information
  ports         Show IP ports in use by various system services
  prefix-list   Show all IP prefix-lists
  protocol      Show IP route-maps per protocol
  rip           Show Routing Information Protocol (RIP) information
  route         Show IP routes
</pre></div>
</div>
</section>
<section id="reset-commands">
<h3>reset commands<a class="headerlink" href="#reset-commands" title="Link to this heading"></a></h3>
<p>And the different IPv4 <strong>reset</strong> commands available:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>vyos@vyos:~$ reset ip
Possible completions:
  arp           Reset Address Resolution Protocol (ARP) cache
  bgp           Clear Border Gateway Protocol (BGP) statistics or status
  igmp          IGMP clear commands
  multicast     IP multicast routing table
  route         Reset IP route
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="host-name.html" class="btn btn-neutral float-left" title="Host Information" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ipv6.html" class="btn btn-neutral float-right" title="IPv6" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2023, VyOS maintainers and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>