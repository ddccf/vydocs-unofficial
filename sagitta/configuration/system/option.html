

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Option &mdash; VyOS 1.4.x (sagitta) documentation</title>
      <link rel="stylesheet" type="text/css" href="../../static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../static/sphinx-design.min.css?v=95c83b7e" />

  
    <link rel="shortcut icon" href="../../static/vyos-logo-icon.png"/>
      <script src="../../static/jquery.js?v=5d32c60e"></script>
      <script src="../../static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../static/documentation_options.js?v=8f5ed1cd"></script>
      <script src="../../static/doctools.js?v=9bcbadda"></script>
      <script src="../../static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../static/design-tabs.js?v=f930bc37"></script>
    <script src="../../static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="System Proxy" href="proxy.html" />
    <link rel="prev" title="System DNS" href="name-server.html" />
    <style>#vyos-header-iframe{position:fixed;top:0;left:0;right:0;z-index:999999999;width:100%;border:none}</style>
    <style>#vyos-footer-iframe{width:100%;border:none}</style>
    <link href="../../static/css/custom.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/lists.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/hints.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/headers.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/breadcrumbs.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/linkButtons.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/text.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/leftSidebar.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/scrolls.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/tables.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/installation/running-on-bare-metal.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/code-snippets.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/separate-commands.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/configuration/index.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/datatables.css" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script type="text/javascript" charset="utf8" src="../../static/js/datatables.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/tables.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/codecopier.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/sidebar.js"></script>
    <script type="text/javascript" charset="utf8" src="../../static/js/footer.js"></script>
    </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            VyOS
              <img src="../../static/vyos-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../introducing/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introducing/history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">First Steps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation and Image Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html#configuration-overview">Configuration Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Adminguide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Configuration Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../container/index.html">Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../firewall/index.html">Firewall</a></li>
<li class="toctree-l2"><a class="reference internal" href="../highavailability/index.html">High availability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/index.html">Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../loadbalancing/index.html">Load-balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nat/index.html">NAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../policy/index.html">Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pki/index.html">PKI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../service/index.html">Service</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">System</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="acceleration.html">Acceleration</a></li>
<li class="toctree-l3"><a class="reference internal" href="conntrack.html">Conntrack</a></li>
<li class="toctree-l3"><a class="reference internal" href="console.html">Serial Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="flow-accounting.html">Flow Accounting</a></li>
<li class="toctree-l3"><a class="reference internal" href="frr.html">FRR</a></li>
<li class="toctree-l3"><a class="reference internal" href="host-name.html">Host Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="ip.html">IP</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipv6.html">IPv6</a></li>
<li class="toctree-l3"><a class="reference internal" href="lcd.html">System Display (LCD)</a></li>
<li class="toctree-l3"><a class="reference internal" href="login.html">Login/User Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="name-server.html">System DNS</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Option</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l4"><a class="reference internal" href="#http-client">HTTP client</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ssh-client">SSH client</a></li>
<li class="toctree-l4"><a class="reference internal" href="#keyboard-layout">Keyboard Layout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#performance">Performance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proxy.html">System Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="sflow.html">sFlow</a></li>
<li class="toctree-l3"><a class="reference internal" href="syslog.html">Syslog</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysctl.html">Sysctl</a></li>
<li class="toctree-l3"><a class="reference internal" href="task-scheduler.html">Task Scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="time-zone.html">Time Zone</a></li>
<li class="toctree-l3"><a class="reference internal" href="updates.html">Updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="default-route.html">Default Gateway/Route</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../trafficpolicy/index.html">Traffic Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vpn/index.html">VPN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vrf/index.html">VRF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vrf/index.html#l3vpn-vrfs">L3VPN VRFs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operation/index.html">Operation Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../automation/index.html">VyOS Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configexamples/index.html">Configuration Blueprints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configexamples/index.html#configuration-blueprints-autotest">Configuration Blueprints (autotest)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/build-vyos.html">Build VyOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/issues-features.html">Issues/Feature requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/upstream-packages.html">Upstream packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/testing.html">Testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">Write Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coverage.html">Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright Notice</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VyOS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Configuration Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html">System</a></li>
      <li class="breadcrumb-item active">Option</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../sources/configuration/system/option.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="option">
<span id="system-option"></span><h1>Option<a class="headerlink" href="#option" title="Link to this heading"></a></h1>
<p>This chapter describe the possibilities of advanced system behavior.</p>
<section id="general">
<h2>General<a class="headerlink" href="#general" title="Link to this heading"></a></h2>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-ctrl-alt-delete-ignore-reboot-poweroff">
set system option ctrl-alt-delete &lt;ignore | reboot | poweroff&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-ctrl-alt-delete-ignore-reboot-poweroff" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Action which will be run once the ctrl-alt-del keystroke is received.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-reboot-on-panic">
set system option reboot-on-panic</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-reboot-on-panic" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Automatically reboot system on kernel panic after 60 seconds.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-startup-beep">
set system option startup-beep</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-startup-beep" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Play an audible beep to the system speaker when system is ready.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-root-partition-auto-resize">
set system option root-partition-auto-resize</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-root-partition-auto-resize" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Enables the root partition auto-extension and resizes to the maximum
available space on system boot.</p>
</div>
</div>
<section id="kernel">
<h3>Kernel<a class="headerlink" href="#kernel" title="Link to this heading"></a></h3>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-kernel-disable-mitigations">
set system option kernel disable-mitigations</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-kernel-disable-mitigations" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Disable all optional CPU mitigations. This improves system performance,
but it may also expose users to several CPU vulnerabilities.</p>
<p>This will add the following option to the Kernel commandline:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mitigations=off</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting will only become active with the next reboot!</p>
</div>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-kernel-disable-power-saving">
set system option kernel disable-power-saving</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-kernel-disable-power-saving" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Disable CPU power saving mechanisms also known as C states.</p>
<p>This will add the following two options to the Kernel commandline:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">intel_idle.max_cstate=0</span></code> Disable intel_idle and fall back on acpi_idle</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">processor.max_cstate=1</span></code> Limit processor to maximum C-state 1</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting will only become active with the next reboot!</p>
</div>
</div>
</div>
</section>
</section>
<section id="http-client">
<h2>HTTP client<a class="headerlink" href="#http-client" title="Link to this heading"></a></h2>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-http-client-source-address-address">
set system option http-client source-address &lt;address&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-http-client-source-address-address" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Several commands utilize cURL to initiate transfers. Configure the local
source IPv4/IPv6 address used for all cURL operations.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-http-client-source-interface-interface">
set system option http-client source-interface &lt;interface&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-http-client-source-interface-interface" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Several commands utilize curl to initiate transfers. Configure the local
source interface used for all CURL operations.</p>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><cite>source-address</cite> and <cite>source-interface</cite> can not be used at the same
time.</p>
</div>
</section>
<section id="ssh-client">
<h2>SSH client<a class="headerlink" href="#ssh-client" title="Link to this heading"></a></h2>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-ssh-client-source-address-address">
set system option ssh-client source-address &lt;address&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-ssh-client-source-address-address" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use the specified address on the local machine as the source address of the
connection. Only useful on systems with more than one address.</p>
</div>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-ssh-client-source-interface-interface">
set system option ssh-client source-interface &lt;interface&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-ssh-client-source-interface-interface" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Use the address of the specified interface on the local machine as the
source address of the connection.</p>
</div>
</div>
</section>
<section id="keyboard-layout">
<h2>Keyboard Layout<a class="headerlink" href="#keyboard-layout" title="Link to this heading"></a></h2>
<p>When starting a VyOS live system (the installation CD) the configured keyboard
layout defaults to US. As this might not suite everyones use case you can adjust
the used keyboard layout on the system console.</p>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-keyboard-layout-us-fr-de-fi-no-dk">
set system option keyboard-layout &lt;us | fr | de | fi | no | dk&gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-keyboard-layout-us-fr-de-fi-no-dk" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Change system keyboard layout to given language.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">us</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Changing the keymap only has an effect on the system console, using
SSH or Serial remote access to the device is not affected as the keyboard
layout here corresponds to your access system.</p>
</div>
</div>
</div>
</section>
<section id="performance">
<span id="system-options-performance"></span><h2>Performance<a class="headerlink" href="#performance" title="Link to this heading"></a></h2>
<p>As more and more routers run on Hypervisors, expecially with a <abbr title="Network Operating System">NOS</abbr> as VyOS, it makes fewer and fewer sense to use
static resource bindings like <code class="docutils literal notranslate"><span class="pre">smp-affinity</span></code> as present in VyOS 1.2 and
earlier to pin certain interrupt handlers to specific CPUs.</p>
<p>We now utilize <cite>tuned</cite> for dynamic resource balancing based on profiles.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://access.redhat.com/sites/default/files/attachments/201501-perf-brief-low-latency-tuning-rhel7-v2.1.pdf">https://access.redhat.com/sites/default/files/attachments/201501-perf-brief-low-latency-tuning-rhel7-v2.1.pdf</a></p>
</div>
<div class="cmd cmd-cfg">
<div class="cfgcmd-heading">
<span class="cfgcmd" id="cfgcmd-set-system-option-performance-throughput-latency">
set system option performance &lt; throughput | latency &gt;</span>
<a class="cmdlink" href="#cfgcmd-set-system-option-performance-throughput-latency" title="Permalink to this Command"></a></div><div class="cfgcmd-body">
<p>Configure one of the predefined system performance profiles.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">throughput</span></code>: A server profile focused on improving network throughput.
This profile favors performance over power savings by setting
<code class="docutils literal notranslate"><span class="pre">intel_pstate</span></code> and <code class="docutils literal notranslate"><span class="pre">max_perf_pct=100</span></code> and increasing kernel network
buffer sizes.</p>
<p>It enables transparent huge pages, and uses cpupower to set the performance
cpufreq governor. It also sets <code class="docutils literal notranslate"><span class="pre">kernel.sched_min_granularity_ns</span></code> to 10 us,
<code class="docutils literal notranslate"><span class="pre">kernel.sched_wakeup_granularity_ns</span></code> to 15 uss, and <code class="docutils literal notranslate"><span class="pre">vm.dirty_ratio</span></code> to
40%.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">latency</span></code>: A server profile focused on lowering network latency.
This profile favors performance over power savings by setting
<code class="docutils literal notranslate"><span class="pre">intel_pstate</span></code> and <code class="docutils literal notranslate"><span class="pre">min_perf_pct=100</span></code>.</p>
<p>It disables transparent huge pages, and automatic NUMA balancing. It also
uses cpupower to set the performance cpufreq governor, and requests a
cpu_dma_latency value of 1. It also sets busy_read and busy_poll times to
50 us, and tcp_fastopen to 3.</p>
</li>
</ul>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="name-server.html" class="btn btn-neutral float-left" title="System DNS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="proxy.html" class="btn btn-neutral float-right" title="System Proxy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../../copyright.html">Copyright</a> 2023, VyOS maintainers and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>